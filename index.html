<!doctype html>
<html lang="ar" dir="rtl" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø¢Ø®Ø± Ø§Ù„Ø£ÙØ¹Ø§Ù„</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&amp;display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Tajawal', sans-serif;
      overflow-x: hidden;
    }
    
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    
    @keyframes celebrate {
      0% { transform: scale(1) rotate(0deg); }
      25% { transform: scale(1.1) rotate(-5deg); }
      50% { transform: scale(1.2) rotate(5deg); }
      75% { transform: scale(1.1) rotate(-5deg); }
      100% { transform: scale(1) rotate(0deg); }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    
    .animate-slide { animation: slideIn 0.5s ease-out; }
    .animate-pulse-custom { animation: pulse 0.3s ease-out; }
    .animate-shake { animation: shake 0.5s ease-out; }
    .animate-celebrate { animation: celebrate 0.6s ease-out; }
    .animate-float { animation: float 2s ease-in-out infinite; }
    
    .star-bg {
      background: radial-gradient(circle at 20% 80%, rgba(255,215,0,0.1) 0%, transparent 50%),
                  radial-gradient(circle at 80% 20%, rgba(255,215,0,0.1) 0%, transparent 50%);
    }
    
    .glass-effect {
      backdrop-filter: blur(10px);
      background: rgba(255,255,255,0.95);
    }
    
    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
    @media (max-width: 640px) {
      .text-responsive-xl { font-size: 1.25rem; }
      .text-responsive-2xl { font-size: 1.5rem; }
      .text-responsive-3xl { font-size: 1.75rem; }
      .text-responsive-4xl { font-size: 2rem; }
      
      .p-responsive { padding: 1rem; }
      .space-y-responsive > * + * { margin-top: 0.75rem; }
    }
    
    /* Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø£ÙÙ‚ÙŠ */
    body, html {
      max-width: 100vw;
      overflow-x: hidden;
    }
    
    /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
    @media (max-width: 640px) {
      button {
        min-height: 3rem;
        padding: 0.75rem 1rem !important;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full bg-gradient-to-br from-indigo-900 via-purple-900 to-indigo-800 star-bg">
  <div id="app" class="w-full h-full flex flex-col">
   
   <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± - ÙŠØ¸Ù‡Ø± ÙÙ‚Ø· ÙÙŠ Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
   <header id="mainHeader" class="bg-white border-b-4 border-indigo-600 shadow-xl">
    <div class="container mx-auto px-3 sm:px-4 md:px-6 py-3 sm:py-4">
     <div class="flex items-center justify-between">
      <div class="flex items-center gap-2 sm:gap-3">
       <div class="text-2xl sm:text-3xl md:text-4xl animate-float">
        ğŸ“š
       </div>
       <div>
        <h1 id="headerTitle" class="text-base sm:text-lg md:text-xl lg:text-2xl font-extrabold text-indigo-900 leading-tight">Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„</h1>
        <p class="text-xs text-indigo-600 hidden sm:block">ØªØ¹Ù„Ù… Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø¨Ø·Ø±ÙŠÙ‚Ø© ØªÙØ§Ø¹Ù„ÙŠØ©</p>
       </div>
      </div>
      <div class="text-2xl sm:text-3xl">
       âœ¨
      </div>
     </div>
    </div>
   </header>

   <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
   <main class="flex-1 overflow-auto">
    
    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
    <div id="startScreen" class="min-h-full flex items-center justify-center p-3 sm:p-4 md:p-6 animate-slide">
     <div class="glass-effect rounded-2xl sm:rounded-3xl p-4 sm:p-6 md:p-8 lg:p-12 max-w-2xl w-full text-center shadow-2xl">
      <div class="text-4xl sm:text-5xl md:text-6xl mb-4 sm:mb-6 animate-float">
       ğŸ“š
      </div>
      <h1 id="gameTitle" class="text-2xl sm:text-3xl md:text-4xl font-extrabold text-indigo-900 mb-3 sm:mb-4 leading-tight">Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„</h1>
      <p class="text-gray-600 mb-6 sm:mb-8 text-sm sm:text-base md:text-lg">Ø§Ø®ØªØ¨Ø± Ù…Ø¹Ø±ÙØªÙƒ Ø¨Ù‚ÙˆØ§Ø¹Ø¯ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø¢Ø®Ø± Ø§Ù„Ø£ÙØ¹Ø§Ù„</p>
      
      <div class="bg-indigo-50 rounded-xl sm:rounded-2xl p-4 sm:p-5 md:p-6 mb-6 sm:mb-8 text-right">
       <h3 class="font-bold text-indigo-800 mb-2 sm:mb-3 text-base sm:text-lg">ğŸ“– ØªØ°ÙƒÙ‘Ø± Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©:</h3>
       <div class="text-gray-700 space-y-2 sm:space-y-3 text-xs sm:text-sm">
        <div class="bg-white rounded-lg sm:rounded-xl p-2 sm:p-3">
         <p class="font-bold text-indigo-700 mb-1 sm:mb-2">ğŸ”¹ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©:</p>
         <ul class="space-y-1 mr-3 sm:mr-4 text-right">
          <li>â€¢ <strong>Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§):</strong> Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ <span class="text-indigo-600 font-bold">ÙˆØ§Ùˆ</span> (Ø¯Ø¹Ø§ â† ÙŠØ¯Ø¹Ùˆ)</li>
          <li>â€¢ <strong>Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© (Ù‰):</strong> Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ <span class="text-purple-600 font-bold">ÙŠØ§Ø¡</span> (Ø±Ù…Ù‰ â† ÙŠØ±Ù…ÙŠ)</li>
         </ul>
        </div>
        <div class="bg-white rounded-lg sm:rounded-xl p-2 sm:p-3">
         <p class="font-bold text-emerald-700 mb-1 sm:mb-2">ğŸ”¹ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© (Ø±Ø¨Ø§Ø¹ÙŠØ© ÙˆØ£ÙƒØ«Ø±):</p>
         <ul class="space-y-1 mr-3 sm:mr-4 text-right">
          <li>â€¢ <strong>Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© (Ù‰):</strong> ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª (Ø£Ø¹Ø·Ù‰ØŒ Ø§Ø³ØªÙˆÙÙ‰)</li>
          <li>â€¢ <strong>Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§):</strong> ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø§ Ù‚Ø¨Ù„Ù‡Ø§ <span class="text-orange-600 font-bold">ÙŠØ§Ø¡</span> (Ø£Ø­ÙŠØ§ØŒ Ø§Ø³ØªØ­ÙŠØ§)</li>
         </ul>
        </div>
       </div>
      </div>
      
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
       <button onclick="startGame('practice')" class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold py-4 sm:py-5 md:py-6 px-4 sm:px-6 rounded-xl sm:rounded-2xl hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1">
        <div class="text-2xl sm:text-3xl mb-1 sm:mb-2">âœï¸</div>
        <div class="text-base sm:text-lg md:text-xl">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ÙŠ</div>
        <div class="text-xs mt-1 opacity-80">Ø§Ø®ØªØ¨Ø± ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£ÙØ¹Ø§Ù„</div>
       </button>
       
       <button onclick="startGame('theory')" class="bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-bold py-4 sm:py-5 md:py-6 px-4 sm:px-6 rounded-xl sm:rounded-2xl hover:from-emerald-700 hover:to-teal-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1">
        <div class="text-2xl sm:text-3xl mb-1 sm:mb-2">ğŸ“–</div>
        <div class="text-base sm:text-lg md:text-xl">Ù‚ÙŠØ§Ø³ Ø­ÙØ¸ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯</div>
        <div class="text-xs mt-1 opacity-80">ØµØ­ ÙˆØ®Ø·Ø£ ÙˆØ§Ø®ØªÙŠØ§Ø±Ø§Øª</div>
       </button>
      </div>
     </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© -->
    <div id="gameScreen" class="hidden min-h-full flex flex-col p-3 sm:p-4 md:p-6">
     
     <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª -->
     <div class="glass-effect rounded-xl sm:rounded-2xl p-3 sm:p-4 mb-4 sm:mb-6 flex justify-between items-center shadow-lg flex-wrap gap-2">
      <div class="flex items-center gap-1 sm:gap-2">
       <span class="text-xl sm:text-2xl">â­</span>
       <span id="score" class="text-xl sm:text-2xl font-bold text-indigo-900">0</span>
      </div>
      <div class="flex items-center gap-1 sm:gap-2">
       <span class="text-gray-600 text-xs sm:text-sm">Ø§Ù„Ø³Ø¤Ø§Ù„</span>
       <span id="questionNum" class="bg-indigo-600 text-white px-2 sm:px-3 py-1 rounded-full font-bold text-xs sm:text-sm">1/10</span>
      </div>
      <div class="flex items-center gap-1 sm:gap-2">
       <span id="streak" class="text-xl sm:text-2xl">ğŸ”¥</span>
       <span id="streakCount" class="font-bold text-orange-600 text-sm sm:text-base">0</span>
      </div>
     </div>

     <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ -->
     <div id="questionCard" class="glass-effect rounded-2xl sm:rounded-3xl p-4 sm:p-6 md:p-8 flex-1 flex flex-col shadow-2xl animate-slide overflow-auto">
      
      <!-- Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¤Ø§Ù„ -->
      <div id="questionType" class="text-center mb-4 sm:mb-6">
       <span class="bg-indigo-100 text-indigo-800 px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-bold inline-block">Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©</span>
      </div>

      <!-- Ø§Ù„Ø³Ø¤Ø§Ù„ -->
      <div class="flex-1 flex flex-col items-center justify-center">
       <p id="questionText" class="text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold text-gray-800 text-center mb-6 sm:mb-8 leading-relaxed px-2"></p>

       <!-- Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ ÙƒØªÙ„Ù…ÙŠØ­ -->
       <div id="hintBox" class="hidden bg-amber-50 border-2 border-amber-200 rounded-lg sm:rounded-xl p-3 sm:p-4 mb-4 sm:mb-6 text-center w-full max-w-md">
        <span class="text-amber-700 text-xs sm:text-sm">ğŸ’¡ ØªÙ„Ù…ÙŠØ­: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ Ù‡Ùˆ </span>
        <span id="hintVerb" class="font-bold text-amber-800 text-base sm:text-lg"></span>
       </div>

       <!-- Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© -->
       <div id="optionsContainer" class="w-full max-w-md space-y-2 sm:space-y-3"></div>
      </div>

      <!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© -->
      <div id="feedbackBox" class="hidden mt-4 sm:mt-6 p-3 sm:p-4 rounded-xl sm:rounded-2xl text-center">
       <p id="feedbackText" class="text-base sm:text-lg font-bold mb-1 sm:mb-2"></p>
       <p id="feedbackExplanation" class="text-xs sm:text-sm leading-relaxed"></p>
      </div>

      <!-- Ø²Ø± Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© -->
      <button id="nextBtn" onclick="nextQuestion()" class="hidden mt-4 sm:mt-6 w-full bg-gradient-to-r from-emerald-500 to-teal-500 text-white text-base sm:text-lg md:text-xl font-bold py-3 sm:py-4 rounded-xl sm:rounded-2xl hover:from-emerald-600 hover:to-teal-600 transition-all duration-300">
       Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†
      </button>
     </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
    <div id="resultScreen" class="hidden min-h-full flex items-center justify-center p-3 sm:p-4 md:p-6">
     <div class="glass-effect rounded-2xl sm:rounded-3xl p-5 sm:p-8 md:p-12 max-w-lg w-full text-center shadow-2xl animate-slide">
      <div id="resultEmoji" class="text-6xl sm:text-7xl md:text-8xl mb-4 sm:mb-6 animate-celebrate">
       ğŸ†
      </div>
      <h2 class="text-2xl sm:text-3xl font-extrabold text-indigo-900 mb-3 sm:mb-4">Ø£Ø­Ø³Ù†Øª!</h2>
      <p id="resultMessage" class="text-gray-600 mb-4 sm:mb-6 text-sm sm:text-base md:text-lg"></p>
      
      <div class="bg-gradient-to-r from-indigo-100 to-purple-100 rounded-xl sm:rounded-2xl p-4 sm:p-6 mb-6 sm:mb-8">
       <div class="text-4xl sm:text-5xl font-extrabold text-indigo-900 mb-2">
        <span id="finalScore">0</span>/<span id="totalQuestions">10</span>
       </div>
       <p class="text-gray-600 text-sm sm:text-base">Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø©</p>
       <div class="mt-3 sm:mt-4 flex justify-center gap-3 sm:gap-4 flex-wrap">
        <div class="text-center">
         <div id="accuracy" class="text-xl sm:text-2xl font-bold text-emerald-600">0%</div>
         <div class="text-xs text-gray-500">Ø§Ù„Ø¯Ù‚Ø©</div>
        </div>
        <div class="text-center">
         <div id="maxStreak" class="text-xl sm:text-2xl font-bold text-orange-600">0</div>
         <div class="text-xs text-gray-500">Ø£ÙØ¶Ù„ Ø³Ù„Ø³Ù„Ø© ğŸ”¥</div>
        </div>
       </div>
      </div>

      <!-- Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ -->
      <div id="mistakesSummary" class="hidden bg-red-50 rounded-xl sm:rounded-2xl p-3 sm:p-4 mb-4 sm:mb-6 text-right max-h-48 overflow-auto">
       <h4 class="font-bold text-red-800 mb-2 sm:mb-3 text-sm sm:text-base">ğŸ“ Ø±Ø§Ø¬Ø¹ Ù‡Ø°Ù‡ Ø§Ù„Ø£ÙØ¹Ø§Ù„:</h4>
       <ul id="mistakesList" class="text-xs sm:text-sm text-red-700 space-y-1"></ul>
      </div>

      <button onclick="restartGame()" class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-base sm:text-lg md:text-xl font-bold py-3 sm:py-4 px-6 sm:px-8 rounded-xl sm:rounded-2xl hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 shadow-lg">
       Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ğŸ”„
      </button>
     </div>
    </div>

   </main>

   <!-- Ø§Ù„ÙÙˆØªØ± Ø§Ù„Ø«Ø§Ø¨Øª - ÙŠØ¸Ù‡Ø± Ø¯Ø§Ø¦Ù…Ø§Ù‹ -->
   <footer class="bg-white border-t-4 border-indigo-600 shadow-xl mt-auto">
    <div class="container mx-auto px-3 sm:px-4 md:px-6 py-3 sm:py-4">
     <div class="text-center">
      <p class="text-indigo-900 font-bold text-xs sm:text-sm md:text-base mb-1">Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø³ØªØ§Ø° Ø®Ù„ÙŠÙ„ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ</p>
      <p class="text-indigo-700 text-xs md:text-sm">Ù…Ø¹Ù„Ù… Ù…Ø¬Ø§Ù„ Ø£ÙˆÙ„ - Ù…Ø¯Ø±Ø³Ø© Ø³Ø¹Ø¯ Ø¨Ù† Ù…Ø¹Ø§Ø° Ù„Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</p>
     </div>
    </div>
   </footer>

  </div>

  <script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
    const allQuestions = [
      // Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯ - Ø£ÙØ¹Ø§Ù„ Ø«Ù„Ø§Ø«ÙŠØ©
      { type: 'choose', verb: 'Ø¯Ù†Ø§', present: 'ÙŠØ¯Ù†Ùˆ', correct: 'Ø¯Ù†Ø§', wrong: 'Ø¯Ù†Ù‰', verbType: 'Ø«Ù„Ø§Ø«ÙŠ', explanation: 'ÙØ¹Ù„ Ø«Ù„Ø§Ø«ÙŠ: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¯Ù†Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©' },
      { type: 'choose', verb: 'Ø³Ù…Ø§', present: 'ÙŠØ³Ù…Ùˆ', correct: 'Ø³Ù…Ø§', wrong: 'Ø³Ù…Ù‰', verbType: 'Ø«Ù„Ø§Ø«ÙŠ', explanation: 'ÙØ¹Ù„ Ø«Ù„Ø§Ø«ÙŠ: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ³Ù…Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©' },
      { type: 'choose', verb: 'Ø¹ÙØ§', present: 'ÙŠØ¹ÙÙˆ', correct: 'Ø¹ÙØ§', wrong: 'Ø¹ÙÙ‰', verbType: 'Ø«Ù„Ø§Ø«ÙŠ', explanation: 'ÙØ¹Ù„ Ø«Ù„Ø§Ø«ÙŠ: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¹ÙÙˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©' },
      { type: 'choose', verb: 'Ù‚Ø¶Ù‰', present: 'ÙŠÙ‚Ø¶ÙŠ', correct: 'Ù‚Ø¶Ù‰', wrong: 'Ù‚Ø¶Ø§', verbType: 'Ø«Ù„Ø§Ø«ÙŠ', explanation: 'ÙØ¹Ù„ Ø«Ù„Ø§Ø«ÙŠ: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠÙ‚Ø¶ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      { type: 'choose', verb: 'Ø±Ù…Ù‰', present: 'ÙŠØ±Ù…ÙŠ', correct: 'Ø±Ù…Ù‰', wrong: 'Ø±Ù…Ø§', verbType: 'Ø«Ù„Ø§Ø«ÙŠ', explanation: 'ÙØ¹Ù„ Ø«Ù„Ø§Ø«ÙŠ: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ±Ù…ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      { type: 'choose', verb: 'Ø¬Ø±Ù‰', present: 'ÙŠØ¬Ø±ÙŠ', correct: 'Ø¬Ø±Ù‰', wrong: 'Ø¬Ø±Ø§', verbType: 'Ø«Ù„Ø§Ø«ÙŠ', explanation: 'ÙØ¹Ù„ Ø«Ù„Ø§Ø«ÙŠ: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¬Ø±ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      { type: 'choose', verb: 'Ù…Ø´Ù‰', present: 'ÙŠÙ…Ø´ÙŠ', correct: 'Ù…Ø´Ù‰', wrong: 'Ù…Ø´Ø§', verbType: 'Ø«Ù„Ø§Ø«ÙŠ', explanation: 'ÙØ¹Ù„ Ø«Ù„Ø§Ø«ÙŠ: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠÙ…Ø´ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      { type: 'choose', verb: 'Ø¯Ø¹Ø§', present: 'ÙŠØ¯Ø¹Ùˆ', correct: 'Ø¯Ø¹Ø§', wrong: 'Ø¯Ø¹Ù‰', verbType: 'Ø«Ù„Ø§Ø«ÙŠ', explanation: 'ÙØ¹Ù„ Ø«Ù„Ø§Ø«ÙŠ: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¯Ø¹Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©' },
      
      // Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©
      { type: 'choose', verb: 'Ø£Ø¹Ø·Ù‰', present: 'ÙŠÙØ¹Ø·ÙŠ', correct: 'Ø£Ø¹Ø·Ù‰', wrong: 'Ø£Ø¹Ø·Ø§', verbType: 'Ø±Ø¨Ø§Ø¹ÙŠ', explanation: 'ÙØ¹Ù„ Ø±Ø¨Ø§Ø¹ÙŠ: Ø§Ù„Ø£Ù„Ù ØªÙÙƒØªØ¨ Ù…Ù‚ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©' },
      { type: 'choose', verb: 'Ø£ÙˆÙÙ‰', present: 'ÙŠÙÙˆÙÙŠ', correct: 'Ø£ÙˆÙÙ‰', wrong: 'Ø£ÙˆÙØ§', verbType: 'Ø±Ø¨Ø§Ø¹ÙŠ', explanation: 'ÙØ¹Ù„ Ø±Ø¨Ø§Ø¹ÙŠ: Ø§Ù„Ø£Ù„Ù ØªÙÙƒØªØ¨ Ù…Ù‚ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©' },
      { type: 'choose', verb: 'Ø§Ø³ØªÙˆÙÙ‰', present: 'ÙŠØ³ØªÙˆÙÙŠ', correct: 'Ø§Ø³ØªÙˆÙÙ‰', wrong: 'Ø§Ø³ØªÙˆÙØ§', verbType: 'Ø³Ø¯Ø§Ø³ÙŠ', explanation: 'ÙØ¹Ù„ Ø³Ø¯Ø§Ø³ÙŠ: Ø§Ù„Ø£Ù„Ù ØªÙÙƒØªØ¨ Ù…Ù‚ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©' },
      { type: 'choose', verb: 'Ø£Ù‡Ø¯Ù‰', present: 'ÙŠÙÙ‡Ø¯ÙŠ', correct: 'Ø£Ù‡Ø¯Ù‰', wrong: 'Ø£Ù‡Ø¯Ø§', verbType: 'Ø±Ø¨Ø§Ø¹ÙŠ', explanation: 'ÙØ¹Ù„ Ø±Ø¨Ø§Ø¹ÙŠ: Ø§Ù„Ø£Ù„Ù ØªÙÙƒØªØ¨ Ù…Ù‚ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©' },
      { type: 'choose', verb: 'ØªÙ…Ù†Ù‰', present: 'ÙŠØªÙ…Ù†Ù‰', correct: 'ØªÙ…Ù†Ù‰', wrong: 'ØªÙ…Ù†Ø§', verbType: 'Ø®Ù…Ø§Ø³ÙŠ', explanation: 'ÙØ¹Ù„ Ø®Ù…Ø§Ø³ÙŠ: Ø§Ù„Ø£Ù„Ù ØªÙÙƒØªØ¨ Ù…Ù‚ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©' },
      { type: 'choose', verb: 'Ø£Ø­ÙŠØ§', present: 'ÙŠÙØ­ÙŠÙŠ', correct: 'Ø£Ø­ÙŠØ§', wrong: 'Ø£Ø­ÙŠÙ‰', verbType: 'Ø±Ø¨Ø§Ø¹ÙŠ', explanation: 'ÙØ¹Ù„ Ø±Ø¨Ø§Ø¹ÙŠ: Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø£Ù„Ù ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ù†Ø§Ø¯Ø±)' },
      { type: 'choose', verb: 'Ø§Ø³ØªØ­ÙŠØ§', present: 'ÙŠØ³ØªØ­ÙŠÙŠ', correct: 'Ø§Ø³ØªØ­ÙŠØ§', wrong: 'Ø§Ø³ØªØ­ÙŠÙ‰', verbType: 'Ø³Ø¯Ø§Ø³ÙŠ', explanation: 'ÙØ¹Ù„ Ø³Ø¯Ø§Ø³ÙŠ: Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø£Ù„Ù ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ù†Ø§Ø¯Ø±)' },
      
      // Ø£Ø³Ø¦Ù„Ø© ØªØ­Ø¯ÙŠØ¯ Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù
      { type: 'origin', verb: 'Ø¹Ù„Ø§', present: 'ÙŠØ¹Ù„Ùˆ', correct: 'ÙˆØ§Ùˆ', verbType: 'Ø«Ù„Ø§Ø«ÙŠ', explanation: 'ÙØ¹Ù„ Ø«Ù„Ø§Ø«ÙŠ: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¹Ù„Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§Ùˆ' },
      { type: 'origin', verb: 'Ø³Ø¹Ù‰', present: 'ÙŠØ³Ø¹Ù‰', correct: 'ÙŠØ§Ø¡', verbType: 'Ø«Ù„Ø§Ø«ÙŠ', explanation: 'ÙØ¹Ù„ Ø«Ù„Ø§Ø«ÙŠ: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ³Ø¹Ù‰" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡' },
      { type: 'origin', verb: 'Ù†Ù…Ø§', present: 'ÙŠÙ†Ù…Ùˆ', correct: 'ÙˆØ§Ùˆ', verbType: 'Ø«Ù„Ø§Ø«ÙŠ', explanation: 'ÙØ¹Ù„ Ø«Ù„Ø§Ø«ÙŠ: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠÙ†Ù…Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§Ùˆ' },
      
      // Ø£Ø³Ø¦Ù„Ø© Ù…Ù„Ø¡ Ø§Ù„ÙØ±Ø§Øº
      { type: 'fill', sentence: 'Ø§Ù„Ø·Ø§Ø¦Ø± ___ ÙÙŠ Ø§Ù„Ø³Ù…Ø§Ø¡', verb: 'Ø³Ù…Ø§', present: 'ÙŠØ³Ù…Ùˆ', correct: 'Ø³Ù…Ø§', wrong: 'Ø³Ù…Ù‰', verbType: 'Ø«Ù„Ø§Ø«ÙŠ', explanation: 'ÙØ¹Ù„ Ø«Ù„Ø§Ø«ÙŠ: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ³Ù…Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©' },
      { type: 'fill', sentence: 'Ø§Ù„Ù…Ø§Ø¡ ___ ÙÙŠ Ø§Ù„Ù†Ù‡Ø±', verb: 'Ø¬Ø±Ù‰', present: 'ÙŠØ¬Ø±ÙŠ', correct: 'Ø¬Ø±Ù‰', wrong: 'Ø¬Ø±Ø§', verbType: 'Ø«Ù„Ø§Ø«ÙŠ', explanation: 'ÙØ¹Ù„ Ø«Ù„Ø§Ø«ÙŠ: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¬Ø±ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      { type: 'fill', sentence: 'Ø§Ù„Ù…Ø¹Ù„Ù… ___ Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© Ù„Ù„Ø·Ø§Ù„Ø¨', verb: 'Ø£Ø¹Ø·Ù‰', present: 'ÙŠÙØ¹Ø·ÙŠ', correct: 'Ø£Ø¹Ø·Ù‰', wrong: 'Ø£Ø¹Ø·Ø§', verbType: 'Ø±Ø¨Ø§Ø¹ÙŠ', explanation: 'ÙØ¹Ù„ Ø±Ø¨Ø§Ø¹ÙŠ: Ø§Ù„Ø£Ù„Ù ØªÙÙƒØªØ¨ Ù…Ù‚ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©' },
      { type: 'fill', sentence: 'Ø§Ù„Ø·Ø§Ù„Ø¨ ___ Ø£Ù† ÙŠÙ†Ø¬Ø­', verb: 'ØªÙ…Ù†Ù‰', present: 'ÙŠØªÙ…Ù†Ù‰', correct: 'ØªÙ…Ù†Ù‰', wrong: 'ØªÙ…Ù†Ø§', verbType: 'Ø®Ù…Ø§Ø³ÙŠ', explanation: 'ÙØ¹Ù„ Ø®Ù…Ø§Ø³ÙŠ: Ø§Ù„Ø£Ù„Ù ØªÙÙƒØªØ¨ Ù…Ù‚ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©' },
      { type: 'fill', sentence: 'Ø§Ù„Ù„Ù‡ ___ Ø§Ù„Ù…ÙˆØªÙ‰', verb: 'Ø£Ø­ÙŠØ§', present: 'ÙŠÙØ­ÙŠÙŠ', correct: 'Ø£Ø­ÙŠØ§', wrong: 'Ø£Ø­ÙŠÙ‰', verbType: 'Ø±Ø¨Ø§Ø¹ÙŠ', explanation: 'ÙØ¹Ù„ Ø±Ø¨Ø§Ø¹ÙŠ: Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø£Ù„Ù ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§Ø³ØªØ«Ù†Ø§Ø¡)' },
    ];
    
    // Ø£Ø³Ø¦Ù„Ø© Ù‚ÙŠØ§Ø³ Ø­ÙØ¸ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯
    const theoryQuestions = [
      // Ø£Ø³Ø¦Ù„Ø© ØµØ­ ÙˆØ®Ø·Ø£
      { 
        type: 'truefalse', 
        question: 'ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©: Ø§Ù„Ø£Ù„Ù Ø§Ù„Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§) ØªÙÙƒØªØ¨ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹', 
        correct: true, 
        explanation: 'ØµØ­ÙŠØ­ØŒ Ù…Ø«Ù„: Ø¯Ù†Ø§ â† ÙŠØ¯Ù†Ùˆ (ÙØ¹Ù„ Ø«Ù„Ø§Ø«ÙŠ)' 
      },
      { 
        type: 'truefalse', 
        question: 'ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©: Ø§Ù„Ø£Ù„Ù ØªÙÙƒØªØ¨ Ù…Ù‚ØµÙˆØ±Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¨Ù„Ø§ Ø§Ø³ØªØ«Ù†Ø§Ø¡', 
        correct: false, 
        explanation: 'Ø®Ø·Ø£ØŒ ØªÙÙƒØªØ¨ Ù…Ù‚ØµÙˆØ±Ø© Ø¥Ù„Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø§ Ù‚Ø¨Ù„Ù‡Ø§ ÙŠØ§Ø¡ ÙØªÙÙƒØªØ¨ Ù…Ù…Ø¯ÙˆØ¯Ø© (Ù…Ø«Ù„: Ø£Ø­ÙŠØ§ØŒ Ø§Ø³ØªØ­ÙŠØ§)' 
      },
      { 
        type: 'truefalse', 
        question: 'Ø§Ù„ÙØ¹Ù„ "Ø£Ø¹Ø·Ù‰" ÙŠÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© Ù„Ø£Ù†Ù‡ ÙØ¹Ù„ ØºÙŠØ± Ø«Ù„Ø§Ø«ÙŠ', 
        correct: true, 
        explanation: 'ØµØ­ÙŠØ­ØŒ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© ØªÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© (Ø£Ø¹Ø·Ù‰ØŒ Ø§Ø³ØªÙˆÙÙ‰ØŒ Ø£Ù‡Ø¯Ù‰)' 
      },
      { 
        type: 'truefalse', 
        question: 'Ø§Ù„ÙØ¹Ù„ "Ø£Ø­ÙŠØ§" ÙŠÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© Ù„Ø£Ù† Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø£Ù„Ù ÙŠØ§Ø¡', 
        correct: true, 
        explanation: 'ØµØ­ÙŠØ­ØŒ Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ù†Ø§Ø¯Ø±: Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø£Ù„Ù ÙŠØ§Ø¡ ØªÙÙƒØªØ¨ Ù…Ù…Ø¯ÙˆØ¯Ø© Ø­ØªÙ‰ ÙÙŠ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ' 
      },
      { 
        type: 'truefalse', 
        question: 'Ù„Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØŒ Ù†Ø±Ø¬Ø¹ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹', 
        correct: true, 
        explanation: 'ØµØ­ÙŠØ­ØŒ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ ÙŠÙØ¸Ù‡Ø± Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù (ÙˆØ§Ùˆ Ø£Ùˆ ÙŠØ§Ø¡) ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©' 
      },
      { 
        type: 'truefalse', 
        question: 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠØ© ÙˆØ§Ù„Ø®Ù…Ø§Ø³ÙŠØ© ÙˆØ§Ù„Ø³Ø¯Ø§Ø³ÙŠØ© ØªÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©', 
        correct: false, 
        explanation: 'Ø®Ø·Ø£ØŒ ØªÙÙƒØªØ¨ Ù…Ù‚ØµÙˆØ±Ø© Ø¥Ù„Ø§ Ø¥Ø°Ø§ Ø³Ø¨Ù‚Ù‡Ø§ ÙŠØ§Ø¡' 
      },
      { 
        type: 'truefalse', 
        question: 'Ø§Ù„ÙØ¹Ù„ "Ø§Ø³ØªÙˆÙÙ‰" ÙŠÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© Ù„Ø£Ù†Ù‡ ÙØ¹Ù„ Ø³Ø¯Ø§Ø³ÙŠ', 
        correct: true, 
        explanation: 'ØµØ­ÙŠØ­ØŒ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© (Ø¨Ù…Ø§ ÙÙŠÙ‡Ø§ Ø§Ù„Ø³Ø¯Ø§Ø³ÙŠØ©) ØªÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' 
      },
      { 
        type: 'truefalse', 
        question: 'Ø¹Ø¯Ø¯ Ø£Ø­Ø±Ù Ø§Ù„ÙØ¹Ù„ Ù„Ø§ ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£Ù„Ù', 
        correct: false, 
        explanation: 'Ø®Ø·Ø£ØŒ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ù„Ù‡ Ù‚Ø§Ø¹Ø¯Ø© (Ø­Ø³Ø¨ Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù) ÙˆØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ù„Ù‡ Ù‚Ø§Ø¹Ø¯Ø© Ø£Ø®Ø±Ù‰ (Ù…Ù‚ØµÙˆØ±Ø© ØºØ§Ù„Ø¨Ø§Ù‹)' 
      },
      
      // Ø£Ø³Ø¦Ù„Ø© Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯ Ù†Ø¸Ø±ÙŠØ©
      { 
        type: 'mcq', 
        question: 'Ù…ØªÙ‰ ØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§) ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©ØŸ', 
        options: ['Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹', 'Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ ÙŠØ§Ø¡ ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹', 'ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø­ÙˆØ§Ù„', 'Ù„Ø§ ØªÙÙƒØªØ¨ Ù…Ù…Ø¯ÙˆØ¯Ø© Ø£Ø¨Ø¯Ø§Ù‹'],
        correct: 0,
        explanation: 'ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©: ØªÙÙƒØªØ¨ Ù…Ù…Ø¯ÙˆØ¯Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ (Ø¯Ø¹Ø§ â† ÙŠØ¯Ø¹Ùˆ)' 
      },
      { 
        type: 'mcq', 
        question: 'ÙƒÙŠÙ ØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©ØŸ', 
        options: ['Ù…Ù…Ø¯ÙˆØ¯Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹', 'Ù…Ù‚ØµÙˆØ±Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹', 'Ù…Ù‚ØµÙˆØ±Ø© Ø¥Ù„Ø§ Ø¥Ø°Ø§ Ø³Ø¨Ù‚Ù‡Ø§ ÙŠØ§Ø¡', 'Ø­Ø³Ø¨ Ø£ØµÙ„Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹'],
        correct: 2,
        explanation: 'Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©: Ù…Ù‚ØµÙˆØ±Ø© (Ø£Ø¹Ø·Ù‰ØŒ Ø§Ø³ØªÙˆÙÙ‰) Ø¥Ù„Ø§ Ø¥Ø°Ø§ Ø³Ø¨Ù‚Ù‡Ø§ ÙŠØ§Ø¡ ÙÙ…Ù…Ø¯ÙˆØ¯Ø© (Ø£Ø­ÙŠØ§ØŒ Ø§Ø³ØªØ­ÙŠØ§)' 
      },
      { 
        type: 'mcq', 
        question: 'Ø£ÙŠ Ù…Ù† Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠØ© ÙŠÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©ØŸ', 
        options: ['Ø£Ø¹Ø·Ù‰', 'Ø§Ø³ØªÙˆÙÙ‰', 'Ø£Ø­ÙŠØ§', 'Ø£Ù‡Ø¯Ù‰'],
        correct: 2,
        explanation: '"Ø£Ø­ÙŠØ§" ØªÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© Ù„Ø£Ù† Ù…Ø§ Ù‚Ø¨Ù„Ù‡Ø§ ÙŠØ§Ø¡ (Ø§Ø³ØªØ«Ù†Ø§Ø¡ ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©)' 
      },
      { 
        type: 'mcq', 
        question: 'Ø§Ù„ÙØ¹Ù„ "Ø£Ø¹Ø·Ù‰" ÙŠÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© Ù„Ø£Ù†Ù‡:', 
        options: ['ÙØ¹Ù„ Ø«Ù„Ø§Ø«ÙŠ Ø£ØµÙ„Ù‡ ÙŠØ§Ø¡', 'ÙØ¹Ù„ Ø±Ø¨Ø§Ø¹ÙŠ (ØºÙŠØ± Ø«Ù„Ø§Ø«ÙŠ)', 'Ù…Ø¶Ø§Ø±Ø¹Ù‡ ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡', 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø³Ø¨Ø¨ ÙˆØ§Ø¶Ø­'],
        correct: 1,
        explanation: 'Ø£Ø¹Ø·Ù‰ ÙØ¹Ù„ Ø±Ø¨Ø§Ø¹ÙŠØŒ ÙˆØ§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© ØªÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' 
      },
      { 
        type: 'mcq', 
        question: 'Ù…ØªÙ‰ ØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©ØŸ', 
        options: ['Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§Ùˆ', 'Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø£Ù„Ù ÙŠØ§Ø¡', 'Ù„Ø§ ØªÙÙƒØªØ¨ Ù…Ù…Ø¯ÙˆØ¯Ø© Ø£Ø¨Ø¯Ø§Ù‹', 'ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø­ÙˆØ§Ù„'],
        correct: 1,
        explanation: 'Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ù†Ø§Ø¯Ø±: Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø£Ù„Ù ÙŠØ§Ø¡ ØªÙÙƒØªØ¨ Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø£Ø­ÙŠØ§ØŒ Ø§Ø³ØªØ­ÙŠØ§)' 
      },
      { 
        type: 'mcq', 
        question: 'Ø£ÙŠ Ù…Ù† Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠØ© Ø¬Ù…ÙŠØ¹Ù‡Ø§ ØºÙŠØ± Ø«Ù„Ø§Ø«ÙŠØ©ØŸ', 
        options: ['Ø¯Ø¹Ø§ØŒ Ø±Ù…Ù‰ØŒ Ø³Ù…Ø§', 'Ø£Ø¹Ø·Ù‰ØŒ Ø§Ø³ØªÙˆÙÙ‰ØŒ Ø£Ù‡Ø¯Ù‰', 'Ù‚Ø¶Ù‰ØŒ Ø¬Ø±Ù‰ØŒ Ù…Ø´Ù‰', 'Ø¹ÙØ§ØŒ ØºØ²Ø§ØŒ Ù†Ø¬Ø§'],
        correct: 1,
        explanation: 'Ø£Ø¹Ø·Ù‰ (Ø±Ø¨Ø§Ø¹ÙŠ)ØŒ Ø§Ø³ØªÙˆÙÙ‰ (Ø³Ø¯Ø§Ø³ÙŠ)ØŒ Ø£Ù‡Ø¯Ù‰ (Ø±Ø¨Ø§Ø¹ÙŠ) - ÙƒÙ„Ù‡Ø§ Ø£ÙØ¹Ø§Ù„ ØºÙŠØ± Ø«Ù„Ø§Ø«ÙŠØ©' 
      },
      { 
        type: 'mcq', 
        question: 'Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ ÙÙŠ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£Ù„Ù Ø¨ÙŠÙ† Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© ÙˆØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©:', 
        options: ['Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙØ±Ù‚', 'Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© Ø­Ø³Ø¨ Ø£ØµÙ„ Ø§Ù„Ø£Ù„ÙØŒ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© Ù…Ù‚ØµÙˆØ±Ø© ØºØ§Ù„Ø¨Ø§Ù‹', 'Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© Ù…Ù‚ØµÙˆØ±Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹', 'ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© Ù…Ù…Ø¯ÙˆØ¯Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹'],
        correct: 1,
        explanation: 'Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù (ÙˆØ§Ùˆ/ÙŠØ§Ø¡)ØŒ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© Ù…Ù‚ØµÙˆØ±Ø© Ø¥Ù„Ø§ Ø¥Ø°Ø§ Ø³Ø¨Ù‚Ù‡Ø§ ÙŠØ§Ø¡' 
      },
      { 
        type: 'mcq', 
        question: 'Ù„Ù…Ø¹Ø±ÙØ© ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ù†Ø±Ø¬Ø¹ Ø¥Ù„Ù‰:', 
        options: ['Ø¹Ø¯Ø¯ Ø£Ø­Ø±Ù Ø§Ù„ÙØ¹Ù„', 'Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ Ù„Ù…Ø¹Ø±ÙØ© Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù', 'Ù…Ø¹Ù†Ù‰ Ø§Ù„ÙØ¹Ù„', 'Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ù…Ø²ÙŠØ¯'],
        correct: 1,
        explanation: 'ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©: Ù†Ø±Ø¬Ø¹ Ù„Ù„Ù…Ø¶Ø§Ø±Ø¹ Ù„Ù…Ø¹Ø±ÙØ© Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù (ÙˆØ§Ùˆ Ø£Ùˆ ÙŠØ§Ø¡)' 
      },
      { 
        type: 'mcq', 
        question: 'Ø£ÙŠ Ù…Ù† Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠØ© Ø¬Ù…ÙŠØ¹Ù‡Ø§ ØªÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©ØŸ', 
        options: ['Ø¯Ø¹Ø§ØŒ Ø³Ù…Ø§ØŒ Ø¹Ù„Ø§', 'Ø±Ù…Ù‰ØŒ Ù‚Ø¶Ù‰ØŒ Ù…Ø´Ù‰', 'Ø£Ø­ÙŠØ§ØŒ Ø§Ø³ØªØ­ÙŠØ§ØŒ Ø£Ø¹ÙŠØ§', 'Ø¹ÙØ§ØŒ ØºØ²Ø§ØŒ Ù†Ø¬Ø§'],
        correct: 1,
        explanation: 'Ø±Ù…Ù‰ØŒ Ù‚Ø¶Ù‰ØŒ Ù…Ø´Ù‰ - ÙƒÙ„Ù‡Ø§ Ø£ÙØ¹Ø§Ù„ Ø«Ù„Ø§Ø«ÙŠØ© Ø£ØµÙ„Ù‡Ø§ ÙŠØ§Ø¡ ÙØªÙÙƒØªØ¨ Ù…Ù‚ØµÙˆØ±Ø©' 
      },
      { 
        type: 'mcq', 
        question: 'Ø¹Ø¯Ø¯ Ø£Ø­Ø±Ù Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ø£ØµÙ„ÙŠØ© ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£Ù„Ù:', 
        options: ['Ù„Ø§ ÙŠØ¤Ø«Ø± Ù…Ø·Ù„Ù‚Ø§Ù‹', 'Ù†Ø¹Ù…ØŒ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ù„Ù‡ Ù‚Ø§Ø¹Ø¯Ø© ÙˆØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ù„Ù‡ Ù‚Ø§Ø¹Ø¯Ø© Ø£Ø®Ø±Ù‰', 'ÙÙ‚Ø· ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ù…Ø²ÙŠØ¯Ø©', 'ÙÙ‚Ø· ÙÙŠ Ø­Ø§Ù„Ø§Øª Ù†Ø§Ø¯Ø±Ø©'],
        correct: 1,
        explanation: 'Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© Ù„Ù‡Ø§ Ù‚Ø§Ø¹Ø¯Ø© (Ø­Ø³Ø¨ Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù)ØŒ ØºÙŠØ± Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© Ù„Ù‡Ø§ Ù‚Ø§Ø¹Ø¯Ø© Ù…Ø®ØªÙ„ÙØ© (Ù…Ù‚ØµÙˆØ±Ø© Ø¥Ù„Ø§ Ø¥Ø°Ø§ Ø³Ø¨Ù‚Ù‡Ø§ ÙŠØ§Ø¡)' 
      },
    ];
    
    let questions = [];
    let currentQuestion = 0;
    let score = 0;
    let streak = 0;
    let maxStreak = 0;
    let mistakes = [];
    let answered = false;
    let gameMode = 'practice';
    
    const defaultConfig = {
      game_title: 'Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„'
    };
    
    let config = { ...defaultConfig };
    
    function shuffleArray(array) {
      const shuffled = [...array];
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      return shuffled;
    }
    
    function startGame(mode = 'practice') {
      gameMode = mode;
      
      if (mode === 'theory') {
        questions = shuffleArray(theoryQuestions).slice(0, 10);
      } else {
        questions = shuffleArray(allQuestions).slice(0, 10);
      }
      
      currentQuestion = 0;
      score = 0;
      streak = 0;
      maxStreak = 0;
      mistakes = [];
      
      // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‡ÙŠØ¯Ø± Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
      document.getElementById('mainHeader').style.display = 'none';
      
      document.getElementById('startScreen').classList.add('hidden');
      document.getElementById('resultScreen').classList.add('hidden');
      document.getElementById('gameScreen').classList.remove('hidden');
      
      showQuestion();
    }
    
    function showQuestion() {
      answered = false;
      const q = questions[currentQuestion];
      const questionCard = document.getElementById('questionCard');
      questionCard.classList.remove('animate-slide');
      void questionCard.offsetWidth;
      questionCard.classList.add('animate-slide');
      
      document.getElementById('questionNum').textContent = `${currentQuestion + 1}/10`;
      document.getElementById('score').textContent = score;
      document.getElementById('streakCount').textContent = streak;
      
      document.getElementById('feedbackBox').classList.add('hidden');
      document.getElementById('nextBtn').classList.add('hidden');
      document.getElementById('hintBox').classList.add('hidden');
      
      const optionsContainer = document.getElementById('optionsContainer');
      optionsContainer.innerHTML = '';
      
      if (q.type === 'truefalse') {
        document.getElementById('questionType').innerHTML = '<span class="bg-emerald-100 text-emerald-800 px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-bold inline-block">âœ“ ØµØ­ Ø£Ùˆ Ø®Ø·Ø£</span>';
        document.getElementById('questionText').textContent = q.question;
        
        ['âœ“ ØµØ­', 'âœ— Ø®Ø·Ø£'].forEach((opt, index) => {
          const isTrue = index === 0;
          const btn = createOptionButton(opt, () => checkAnswer(isTrue, q.correct, q));
          optionsContainer.appendChild(btn);
        });
        
      } else if (q.type === 'mcq') {
        document.getElementById('questionType').innerHTML = '<span class="bg-teal-100 text-teal-800 px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-bold inline-block">Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©</span>';
        document.getElementById('questionText').textContent = q.question;
        
        q.options.forEach((opt, index) => {
          const btn = createOptionButton(opt, () => checkAnswer(index, q.correct, q));
          optionsContainer.appendChild(btn);
        });
        
      } else if (q.type === 'choose') {
        document.getElementById('questionType').innerHTML = '<span class="bg-indigo-100 text-indigo-800 px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-bold inline-block">Ø§Ø®ØªØ± Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©</span>';
        document.getElementById('questionText').textContent = `Ù…Ø§ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„Ù„ÙØ¹Ù„ Ø§Ù„Ù…Ø§Ø¶ÙŠ Ù…Ù† "${q.present}"ØŸ`;
        
        const options = shuffleArray([q.correct, q.wrong]);
        options.forEach(opt => {
          const btn = createOptionButton(opt, () => checkAnswer(opt, q.correct, q));
          optionsContainer.appendChild(btn);
        });
        
      } else if (q.type === 'origin') {
        document.getElementById('questionType').innerHTML = '<span class="bg-purple-100 text-purple-800 px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-bold inline-block">Ø­Ø¯Ø¯ Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù</span>';
        document.getElementById('questionText').textContent = `Ù…Ø§ Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„ÙØ¹Ù„ "${q.verb}"ØŸ`;
        
        document.getElementById('hintBox').classList.remove('hidden');
        document.getElementById('hintVerb').textContent = q.present;
        
        ['ÙˆØ§Ùˆ', 'ÙŠØ§Ø¡'].forEach(opt => {
          const btn = createOptionButton(opt === 'ÙˆØ§Ùˆ' ? 'ğŸ”µ ÙˆØ§Ùˆ (Ø§)' : 'ğŸŸ£ ÙŠØ§Ø¡ (Ù‰)', () => checkAnswer(opt, q.correct, q));
          optionsContainer.appendChild(btn);
        });
        
      } else if (q.type === 'fill') {
        document.getElementById('questionType').innerHTML = '<span class="bg-emerald-100 text-emerald-800 px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-bold inline-block">Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¬Ù…Ù„Ø©</span>';
        document.getElementById('questionText').innerHTML = `Ø£ÙƒÙ…Ù„: <span class="text-indigo-600">"${q.sentence}"</span>`;
        
        const options = shuffleArray([q.correct, q.wrong]);
        options.forEach(opt => {
          const btn = createOptionButton(opt, () => checkAnswer(opt, q.correct, q));
          optionsContainer.appendChild(btn);
        });
      }
    }
    
    function createOptionButton(text, onClick) {
      const btn = document.createElement('button');
      btn.className = 'w-full bg-white border-2 border-gray-200 text-gray-800 text-base sm:text-lg md:text-xl font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-xl sm:rounded-2xl hover:border-indigo-400 hover:bg-indigo-50 transition-all duration-200';
      btn.textContent = text;
      btn.onclick = onClick;
      return btn;
    }
    
    function checkAnswer(selected, correct, q) {
      if (answered) return;
      answered = true;
      
      const buttons = document.querySelectorAll('#optionsContainer button');
      let isCorrect = false;
      
      if (q.type === 'truefalse') {
        isCorrect = selected === correct;
      } else if (q.type === 'mcq') {
        isCorrect = selected === correct;
      } else {
        isCorrect = selected === correct || 
                    (q.type === 'origin' && selected === correct);
      }
      
      buttons.forEach((btn, index) => {
        btn.disabled = true;
        const btnText = btn.textContent;
        let isThisCorrect = false;
        
        if (q.type === 'truefalse') {
          isThisCorrect = (btnText.includes('ØµØ­') && correct === true) || (btnText.includes('Ø®Ø·Ø£') && correct === false);
        } else if (q.type === 'mcq') {
          isThisCorrect = index === correct;
        } else {
          isThisCorrect = btnText === correct || 
                          btnText.includes(correct) ||
                          (q.type === 'choose' && btnText === q.correct) ||
                          (q.type === 'fill' && btnText === q.correct);
        }
        
        if (isThisCorrect) {
          btn.className = 'w-full bg-emerald-500 border-2 border-emerald-600 text-white text-base sm:text-lg md:text-xl font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-xl sm:rounded-2xl';
        } else if ((q.type === 'truefalse' && ((btnText.includes('ØµØ­') && selected === true) || (btnText.includes('Ø®Ø·Ø£') && selected === false))) ||
                   (q.type === 'mcq' && index === selected) ||
                   (btnText === selected || btnText.includes(selected))) {
          if (!isCorrect) {
            btn.className = 'w-full bg-red-500 border-2 border-red-600 text-white text-base sm:text-lg md:text-xl font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-xl sm:rounded-2xl animate-shake';
          }
        }
      });
      
      const feedbackBox = document.getElementById('feedbackBox');
      const feedbackText = document.getElementById('feedbackText');
      const feedbackExplanation = document.getElementById('feedbackExplanation');
      
      if (isCorrect) {
        score++;
        streak++;
        if (streak > maxStreak) maxStreak = streak;
        
        feedbackBox.className = 'mt-4 sm:mt-6 p-3 sm:p-4 rounded-xl sm:rounded-2xl text-center bg-emerald-100 border-2 border-emerald-300';
        feedbackText.className = 'text-base sm:text-lg font-bold mb-1 sm:mb-2 text-emerald-800';
        feedbackText.textContent = streak >= 3 ? `ğŸ”¥ Ø±Ø§Ø¦Ø¹! Ø³Ù„Ø³Ù„Ø© ${streak} Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø©!` : 'âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!';
        feedbackExplanation.className = 'text-xs sm:text-sm text-emerald-700';
        
        document.getElementById('score').classList.add('animate-pulse-custom');
        setTimeout(() => document.getElementById('score').classList.remove('animate-pulse-custom'), 300);
      } else {
        streak = 0;
        if (q.verb) {
          mistakes.push({ verb: q.verb, correct: q.correct, present: q.present });
        } else {
          mistakes.push({ verb: q.question, correct: 'Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø´Ø±Ø­', present: '' });
        }
        
        feedbackBox.className = 'mt-4 sm:mt-6 p-3 sm:p-4 rounded-xl sm:rounded-2xl text-center bg-red-100 border-2 border-red-300';
        feedbackText.className = 'text-base sm:text-lg font-bold mb-1 sm:mb-2 text-red-800';
        feedbackText.textContent = 'âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©';
        feedbackExplanation.className = 'text-xs sm:text-sm text-red-700';
      }
      
      feedbackExplanation.textContent = q.explanation;
      feedbackBox.classList.remove('hidden');
      
      document.getElementById('score').textContent = score;
      document.getElementById('streakCount').textContent = streak;
      
      const nextBtn = document.getElementById('nextBtn');
      nextBtn.textContent = currentQuestion < 9 ? 'Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†' : 'Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ğŸ†';
      nextBtn.classList.remove('hidden');
    }
    
    function nextQuestion() {
      currentQuestion++;
      if (currentQuestion < 10) {
        showQuestion();
      } else {
        showResults();
      }
    }
    
    function showResults() {
      document.getElementById('gameScreen').classList.add('hidden');
      document.getElementById('resultScreen').classList.remove('hidden');
      
      const percentage = (score / 10) * 100;
      document.getElementById('finalScore').textContent = score;
      document.getElementById('totalQuestions').textContent = 10;
      document.getElementById('accuracy').textContent = `${percentage}%`;
      document.getElementById('maxStreak').textContent = maxStreak;
      
      const resultEmoji = document.getElementById('resultEmoji');
      const resultMessage = document.getElementById('resultMessage');
      
      if (percentage === 100) {
        resultEmoji.textContent = 'ğŸ†';
        resultMessage.textContent = 'Ù…Ù…ØªØ§Ø²! Ø£Ù†Øª Ù…ØªÙ‚Ù† Ù„Ù‚ÙˆØ§Ø¹Ø¯ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„!';
      } else if (percentage >= 80) {
        resultEmoji.textContent = 'ğŸŒŸ';
        resultMessage.textContent = 'Ø£Ø­Ø³Ù†Øª! Ø£Ø¯Ø§Ø¡ Ø±Ø§Ø¦Ø¹ØŒ ÙˆØ§ØµÙ„ Ø§Ù„ØªØ¹Ù„Ù…!';
      } else if (percentage >= 60) {
        resultEmoji.textContent = 'ğŸ‘';
        resultMessage.textContent = 'Ø¬ÙŠØ¯! ØªØ­ØªØ§Ø¬ Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¨Ø¹Ø¶ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯.';
      } else if (percentage >= 40) {
        resultEmoji.textContent = 'ğŸ“š';
        resultMessage.textContent = 'Ù„Ø§ Ø¨Ø£Ø³ØŒ Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ ÙˆØ­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!';
      } else {
        resultEmoji.textContent = 'ğŸ’ª';
        resultMessage.textContent = 'ØªØ­ØªØ§Ø¬ Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ¯Ø±ÙŠØ¨ØŒ Ù„Ø§ ØªØ³ØªØ³Ù„Ù…!';
      }
      
      const mistakesSummary = document.getElementById('mistakesSummary');
      const mistakesList = document.getElementById('mistakesList');
      
      if (mistakes.length > 0) {
        mistakesSummary.classList.remove('hidden');
        if (gameMode === 'theory') {
          mistakesList.innerHTML = mistakes.map(m => 
            `<li class="mb-2">â€¢ ${m.verb.substring(0, 60)}${m.verb.length > 60 ? '...' : ''}</li>`
          ).join('');
        } else {
          mistakesList.innerHTML = mistakes.map(m => 
            `<li>â€¢ ${m.verb} â† ${m.present} (Ø§Ù„ØµØ­ÙŠØ­: ${m.correct})</li>`
          ).join('');
        }
      } else {
        mistakesSummary.classList.add('hidden');
      }
    }
    
    function restartGame() {
      // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‡ÙŠØ¯Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
      document.getElementById('mainHeader').style.display = 'block';
      
      document.getElementById('gameScreen').classList.add('hidden');
      document.getElementById('resultScreen').classList.add('hidden');
      document.getElementById('startScreen').classList.remove('hidden');
    }
    
    async function onConfigChange(newConfig) {
      const title = newConfig.game_title || defaultConfig.game_title;
      document.getElementById('gameTitle').textContent = title;
      document.getElementById('headerTitle').textContent = title;
    }
    
    function mapToCapabilities(cfg) {
      return {
        recolorables: [],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }
    
    function mapToEditPanelValues(cfg) {
      return new Map([
        ['game_title', cfg.game_title || defaultConfig.game_title]
      ]);
    }
    
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
  </script>
 </body>
</html>
