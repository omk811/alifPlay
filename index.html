<!doctype html>
<html lang="ar" dir="rtl" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø¢Ø®Ø± Ø§Ù„Ø£ÙØ¹Ø§Ù„</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800;900&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Tajawal', sans-serif;
      overflow-x: hidden;
    }
    
    .arabic-text {
      font-family: 'Amiri', serif;
    }
    
    /* Animations */
    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes slideInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.8);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.08); }
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-8px); }
      75% { transform: translateX(8px); }
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-12px); }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-15px); }
    }
    
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    @keyframes wiggle {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(-10deg); }
      75% { transform: rotate(10deg); }
    }
    
    @keyframes glow {
      0%, 100% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.5); }
      50% { box-shadow: 0 0 40px rgba(99, 102, 241, 0.8), 0 0 60px rgba(99, 102, 241, 0.6); }
    }
    
    @keyframes sparkle {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.5; transform: scale(1.2); }
    }
    
    /* Animation classes */
    .animate-slide-up { animation: slideInUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); }
    .animate-slide-down { animation: slideInDown 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); }
    .animate-fade-in { animation: fadeIn 0.5s ease-out; }
    .animate-scale-in { animation: scaleIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); }
    .animate-pulse-custom { animation: pulse 0.4s ease-out; }
    .animate-shake { animation: shake 0.6s ease-out; }
    .animate-bounce { animation: bounce 0.6s ease-out; }
    .animate-float { animation: float 3s ease-in-out infinite; }
    .animate-spin-slow { animation: spin 3s linear infinite; }
    .animate-wiggle { animation: wiggle 0.5s ease-out; }
    .animate-glow { animation: glow 2s ease-in-out infinite; }
    .animate-sparkle { animation: sparkle 1.5s ease-in-out infinite; }
    
    /* Gradient backgrounds */
    .gradient-purple {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    .gradient-blue {
      background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
    }
    
    .gradient-green {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    }
    
    .gradient-orange {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    }
    
    .gradient-red {
      background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    }
    
    /* Glass effect */
    .glass-effect {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }
    
    /* Star background */
    .stars-bg {
      background-image:
        radial-gradient(2px 2px at 20px 30px, rgba(255, 255, 255, 0.8), transparent),
        radial-gradient(2px 2px at 60px 70px, rgba(255, 255, 255, 0.6), transparent),
        radial-gradient(1px 1px at 50px 50px, rgba(255, 255, 255, 0.7), transparent),
        radial-gradient(1px 1px at 130px 80px, rgba(255, 255, 255, 0.5), transparent),
        radial-gradient(2px 2px at 90px 10px, rgba(255, 255, 255, 0.8), transparent);
      background-size: 200px 200px;
      background-position: 0 0, 40px 60px, 130px 270px, 70px 100px, 150px 50px;
    }
    
    /* Button hover effects */
    .btn-hover {
      position: relative;
      overflow: hidden;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .btn-hover::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }
    
    .btn-hover:hover::before {
      width: 300px;
      height: 300px;
    }
    
    .btn-hover:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
    }
    
    .btn-hover:active {
      transform: translateY(-2px);
    }
    
    /* Score badge */
    .score-badge {
      background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
      box-shadow: 0 4px 15px rgba(245, 158, 11, 0.4);
    }
    
    /* Progress bar */
    .progress-bar {
      height: 6px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 10px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #10b981, #059669);
      transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 0 10px rgba(16, 185, 129, 0.6);
    }
    
    /* Confetti animation */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background: #fbbf24;
      position: absolute;
      animation: confetti-fall 3s linear forwards;
    }
    
    @keyframes confetti-fall {
      to {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }
    
    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 10px;
    }
    
    ::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
    }
    
    ::-webkit-scrollbar-thumb {
      background: rgba(99, 102, 241, 0.5);
      border-radius: 5px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: rgba(99, 102, 241, 0.7);
    }
    
    /* Card shadows */
    .card-shadow {
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    }
    
    .card-shadow-hover {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card-shadow-hover:hover {
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
      transform: translateY(-5px);
    }
    
    /* Tooltip */
    .tooltip {
      position: relative;
    }
    
    .tooltip::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 8px 12px;
      border-radius: 8px;
      font-size: 12px;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
      margin-bottom: 8px;
    }
    
    .tooltip:hover::after {
      opacity: 1;
    }
  </style>
</head>
<body class="h-full gradient-purple stars-bg overflow-hidden">
  <div id="app" class="w-full h-full flex flex-col">
    
    <!-- Header -->
    <header class="glass-effect shadow-2xl border-b-4 border-white/20 animate-slide-down">
      <div class="container mx-auto px-4 md:px-8 py-5">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-4">
            <div class="text-5xl animate-float">ğŸ“š</div>
            <div>
              <h1 class="text-2xl md:text-3xl font-black text-indigo-900 arabic-text">
                Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„
              </h1>
              <p class="text-sm text-indigo-600 font-semibold mt-1">ØªØ¹Ù„Ù… Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ù…ØªØ¹Ø© ÙˆØªÙØ§Ø¹Ù„ÙŠØ© âœ¨</p>
            </div>
          </div>
          <div class="hidden md:flex items-center gap-3">
            <div class="text-4xl animate-sparkle">â­</div>
            <div class="text-4xl animate-wiggle">ğŸ¯</div>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 overflow-auto p-4 md:p-8">
      
      <!-- Start Screen -->
      <div id="startScreen" class="flex items-center justify-center min-h-full">
        <div class="glass-effect rounded-3xl p-8 md:p-12 max-w-3xl w-full card-shadow animate-scale-in">
          
          <!-- Hero Icon -->
          <div class="text-center mb-8">
            <div class="text-8xl mb-4 animate-bounce">ğŸ“š</div>
            <h1 class="text-4xl md:text-5xl font-black text-indigo-900 mb-3 arabic-text">
              Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„
            </h1>
            <p class="text-xl text-gray-600 font-medium">
              Ø§ÙƒØªØ´Ù Ù…ØªØ¹Ø© ØªØ¹Ù„Ù… Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ğŸ®
            </p>
          </div>

          <!-- Rules Box -->
          <div class="bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-6 mb-8 border-2 border-indigo-200 card-shadow">
            <div class="flex items-center gap-3 mb-4">
              <div class="text-3xl">ğŸ“–</div>
              <h3 class="text-xl font-black text-indigo-900">ØªØ°ÙƒÙ‘Ø± Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©:</h3>
            </div>
            <div class="space-y-4">
              <div class="flex items-start gap-3 bg-white/70 rounded-xl p-4 border border-indigo-200">
                <div class="text-2xl">ğŸ”µ</div>
                <div class="flex-1">
                  <p class="text-gray-800 font-bold text-lg mb-1">Ø§Ù„Ø£Ù„Ù Ø§Ù„Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§)</p>
                  <p class="text-gray-600">Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ <span class="text-indigo-600 font-black">ÙˆØ§Ùˆ</span> ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹</p>
                  <p class="text-sm text-indigo-600 mt-2 font-semibold">Ù…Ø«Ø§Ù„: Ø¯Ø¹Ø§ â† ÙŠØ¯Ø¹Ùˆ</p>
                </div>
              </div>
              <div class="flex items-start gap-3 bg-white/70 rounded-xl p-4 border border-purple-200">
                <div class="text-2xl">ğŸŸ£</div>
                <div class="flex-1">
                  <p class="text-gray-800 font-bold text-lg mb-1">Ø§Ù„Ø£Ù„Ù Ø§Ù„Ù…Ù‚ØµÙˆØ±Ø© (Ù‰)</p>
                  <p class="text-gray-600">Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ <span class="text-purple-600 font-black">ÙŠØ§Ø¡</span> ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹</p>
                  <p class="text-sm text-purple-600 mt-2 font-semibold">Ù…Ø«Ø§Ù„: Ù‚Ø¶Ù‰ â† ÙŠÙ‚Ø¶ÙŠ</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Game Mode Buttons -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
            <button onclick="startGame('practice')" class="btn-hover gradient-blue text-white rounded-2xl p-6 card-shadow group">
              <div class="text-5xl mb-3 group-hover:animate-wiggle">âœï¸</div>
              <div class="text-2xl font-black mb-2">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ÙŠ</div>
              <div class="text-sm opacity-90 font-medium">Ø§Ø®ØªØ¨Ø± Ù…Ù‡Ø§Ø±ØªÙƒ ÙÙŠ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­</div>
              <div class="mt-4 flex items-center justify-center gap-2 text-xs opacity-80">
                <span>10 Ø£Ø³Ø¦Ù„Ø©</span>
                <span>â€¢</span>
                <span>Ù…ØªÙ†ÙˆØ¹Ø©</span>
              </div>
            </button>
            
            <button onclick="startGame('theory')" class="btn-hover gradient-green text-white rounded-2xl p-6 card-shadow group">
              <div class="text-5xl mb-3 group-hover:animate-wiggle">ğŸ“–</div>
              <div class="text-2xl font-black mb-2">Ù‚ÙŠØ§Ø³ Ø­ÙØ¸ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯</div>
              <div class="text-sm opacity-90 font-medium">Ø£Ø³Ø¦Ù„Ø© ØµØ­ ÙˆØ®Ø·Ø£ ÙˆØ§Ø®ØªÙŠØ§Ø±Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©</div>
              <div class="mt-4 flex items-center justify-center gap-2 text-xs opacity-80">
                <span>10 Ø£Ø³Ø¦Ù„Ø©</span>
                <span>â€¢</span>
                <span>Ù†Ø¸Ø±ÙŠØ©</span>
              </div>
            </button>
          </div>

          <!-- Tips -->
          <div class="mt-8 text-center">
            <p class="text-gray-500 text-sm font-medium">
              ğŸ’¡ Ù†ØµÙŠØ­Ø©: Ø§Ø³ØªØ¹Ù† Ø¨Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ Ù„Ù…Ø¹Ø±ÙØ© Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù
            </p>
          </div>
        </div>
      </div>

      <!-- Game Screen -->
      <div id="gameScreen" class="hidden min-h-full flex flex-col">
        
        <!-- Stats Bar -->
        <div class="glass-effect rounded-2xl p-5 mb-6 card-shadow animate-slide-down">
          <div class="flex items-center justify-between gap-4">
            
            <!-- Score -->
            <div class="flex items-center gap-3 score-badge rounded-2xl px-5 py-3">
              <span class="text-3xl">â­</span>
              <div>
                <div class="text-xs text-white/80 font-bold">Ø§Ù„Ù†Ù‚Ø§Ø·</div>
                <div id="score" class="text-3xl font-black text-white">0</div>
              </div>
            </div>

            <!-- Question Progress -->
            <div class="flex-1 hidden md:block">
              <div class="flex items-center justify-between mb-2">
                <span class="text-sm font-bold text-indigo-900">Ø§Ù„ØªÙ‚Ø¯Ù…</span>
                <span id="questionNum" class="text-sm font-bold text-indigo-600">1/10</span>
              </div>
              <div class="progress-bar">
                <div id="progressBar" class="progress-fill" style="width: 10%"></div>
              </div>
            </div>

            <!-- Streak -->
            <div class="flex items-center gap-3 bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl px-5 py-3 text-white">
              <span id="streak" class="text-3xl">ğŸ”¥</span>
              <div>
                <div class="text-xs text-white/80 font-bold">Ø§Ù„Ø³Ù„Ø³Ù„Ø©</div>
                <div id="streakCount" class="text-3xl font-black">0</div>
              </div>
            </div>

            <!-- Mobile Question Counter -->
            <div class="md:hidden">
              <div class="bg-indigo-600 text-white rounded-xl px-4 py-2">
                <div id="questionNumMobile" class="text-lg font-bold">1/10</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Question Card -->
        <div id="questionCard" class="glass-effect rounded-3xl p-6 md:p-10 flex-1 flex flex-col card-shadow animate-scale-in">
          
          <!-- Question Type Badge -->
          <div id="questionType" class="text-center mb-8">
            <span class="inline-block bg-indigo-100 text-indigo-800 px-6 py-3 rounded-full text-base font-black border-2 border-indigo-200">
              Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
            </span>
          </div>

          <!-- Question Text -->
          <div class="flex-1 flex flex-col items-center justify-center">
            <p id="questionText" class="text-3xl md:text-4xl font-black text-gray-900 text-center mb-10 leading-relaxed arabic-text"></p>

            <!-- Hint Box -->
            <div id="hintBox" class="hidden bg-gradient-to-r from-amber-50 to-yellow-50 border-3 border-amber-300 rounded-2xl p-5 mb-8 text-center card-shadow">
              <div class="flex items-center justify-center gap-2 mb-2">
                <span class="text-2xl">ğŸ’¡</span>
                <span class="text-amber-800 font-bold text-lg">ØªÙ„Ù…ÙŠØ­ Ù…Ø³Ø§Ø¹Ø¯</span>
              </div>
              <p class="text-amber-700 font-medium">Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ Ù‡Ùˆ: 
                <span id="hintVerb" class="font-black text-amber-900 text-2xl arabic-text"></span>
              </p>
            </div>

            <!-- Options Container -->
            <div id="optionsContainer" class="w-full max-w-2xl space-y-4"></div>
          </div>

          <!-- Feedback Box -->
          <div id="feedbackBox" class="hidden mt-8 p-6 rounded-2xl text-center card-shadow">
            <p id="feedbackText" class="text-2xl font-black mb-3"></p>
            <p id="feedbackExplanation" class="text-base font-medium leading-relaxed"></p>
          </div>

          <!-- Next Button -->
          <button id="nextBtn" onclick="nextQuestion()" class="hidden mt-8 w-full gradient-green text-white text-2xl font-black py-5 rounded-2xl btn-hover card-shadow">
            Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†
          </button>
        </div>
      </div>

      <!-- Result Screen -->
      <div id="resultScreen" class="hidden min-h-full flex items-center justify-center">
        <div class="glass-effect rounded-3xl p-8 md:p-12 max-w-2xl w-full text-center card-shadow animate-scale-in">
          
          <!-- Result Emoji -->
          <div id="resultEmoji" class="text-9xl mb-6 animate-bounce">ğŸ†</div>

          <!-- Result Title -->
          <h2 id="resultTitle" class="text-4xl md:text-5xl font-black text-indigo-900 mb-4 arabic-text">
            Ø£Ø­Ø³Ù†Øª!
          </h2>
          <p id="resultMessage" class="text-xl text-gray-600 mb-8 font-medium"></p>

          <!-- Score Card -->
          <div class="bg-gradient-to-br from-indigo-50 to-purple-50 rounded-3xl p-8 mb-8 border-2 border-indigo-200 card-shadow">
            <div class="text-7xl font-black text-indigo-900 mb-3">
              <span id="finalScore">0</span>/<span id="totalQuestions">10</span>
            </div>
            <p class="text-gray-600 font-bold text-lg mb-6">Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø©</p>
            
            <!-- Stats Grid -->
            <div class="grid grid-cols-2 gap-4 mt-6">
              <div class="bg-white/70 rounded-2xl p-4 border border-emerald-200">
                <div id="accuracy" class="text-4xl font-black text-emerald-600 mb-1">0%</div>
                <div class="text-sm text-gray-600 font-bold">Ø§Ù„Ø¯Ù‚Ø©</div>
              </div>
              <div class="bg-white/70 rounded-2xl p-4 border border-orange-200">
                <div class="flex items-center justify-center gap-2 mb-1">
                  <span class="text-3xl">ğŸ”¥</span>
                  <span id="maxStreak" class="text-4xl font-black text-orange-600">0</span>
                </div>
                <div class="text-sm text-gray-600 font-bold">Ø£ÙØ¶Ù„ Ø³Ù„Ø³Ù„Ø©</div>
              </div>
            </div>
          </div>

          <!-- Mistakes Summary -->
          <div id="mistakesSummary" class="hidden bg-gradient-to-br from-red-50 to-pink-50 rounded-2xl p-6 mb-8 border-2 border-red-200 text-right">
            <div class="flex items-center gap-3 mb-4">
              <div class="text-3xl">ğŸ“</div>
              <h4 class="text-xl font-black text-red-800">Ø±Ø§Ø¬Ø¹ Ù‡Ø°Ù‡ Ø§Ù„Ù†Ù‚Ø§Ø·:</h4>
            </div>
            <ul id="mistakesList" class="text-base text-red-700 space-y-2 font-medium"></ul>
          </div>

          <!-- Action Buttons -->
          <div class="space-y-4">
            <button onclick="restartGame()" class="w-full gradient-blue text-white text-2xl font-black py-5 rounded-2xl btn-hover card-shadow">
              <span class="inline-flex items-center gap-3">
                <span>Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</span>
                <span class="text-3xl">ğŸ”„</span>
              </span>
            </button>
            <button onclick="backToMenu()" class="w-full bg-white text-indigo-900 text-xl font-bold py-4 rounded-2xl btn-hover border-2 border-indigo-200">
              Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            </button>
          </div>
        </div>
      </div>

    </main>

    <!-- Footer -->
    <footer class="glass-effect border-t-4 border-white/20 shadow-2xl mt-auto animate-slide-up">
      <div class="container mx-auto px-4 md:px-8 py-5">
        <div class="text-center">
          <p class="text-indigo-900 font-black text-base md:text-lg mb-1">
            Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø³ØªØ§Ø° Ø®Ù„ÙŠÙ„ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ âœ¨
          </p>
          <p class="text-indigo-700 text-sm md:text-base font-semibold">
            Ù…Ø¹Ù„Ù… Ù…Ø¬Ø§Ù„ Ø£ÙˆÙ„ - Ù…Ø¯Ø±Ø³Ø© Ø³Ø¹Ø¯ Ø¨Ù† Ù…Ø¹Ø§Ø° Ù„Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
          </p>
        </div>
      </div>
    </footer>

  </div>

  <script>
    // Game Questions Data
    const allQuestions = [
      // Multiple Choice Questions - Choose Correct Writing
      { type: 'choose', verb: 'Ø¯Ù†Ø§', present: 'ÙŠØ¯Ù†Ùˆ', correct: 'Ø¯Ù†Ø§', wrong: 'Ø¯Ù†Ù‰', origin: 'ÙˆØ§Ùˆ', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¯Ù†Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©' },
      { type: 'choose', verb: 'Ø³Ù…Ø§', present: 'ÙŠØ³Ù…Ùˆ', correct: 'Ø³Ù…Ø§', wrong: 'Ø³Ù…Ù‰', origin: 'ÙˆØ§Ùˆ', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ³Ù…Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©' },
      { type: 'choose', verb: 'Ø¹ÙØ§', present: 'ÙŠØ¹ÙÙˆ', correct: 'Ø¹ÙØ§', wrong: 'Ø¹ÙÙ‰', origin: 'ÙˆØ§Ùˆ', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¹ÙÙˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©' },
      { type: 'choose', verb: 'ØºØ²Ø§', present: 'ÙŠØºØ²Ùˆ', correct: 'ØºØ²Ø§', wrong: 'ØºØ²Ù‰', origin: 'ÙˆØ§Ùˆ', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØºØ²Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©' },
      { type: 'choose', verb: 'Ù†Ø¬Ø§', present: 'ÙŠÙ†Ø¬Ùˆ', correct: 'Ù†Ø¬Ø§', wrong: 'Ù†Ø¬Ù‰', origin: 'ÙˆØ§Ùˆ', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠÙ†Ø¬Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©' },
      { type: 'choose', verb: 'Ø·ÙˆÙ‰', present: 'ÙŠØ·ÙˆÙŠ', correct: 'Ø·ÙˆÙ‰', wrong: 'Ø·ÙˆØ§', origin: 'ÙŠØ§Ø¡', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ·ÙˆÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      { type: 'choose', verb: 'Ù‚Ø¶Ù‰', present: 'ÙŠÙ‚Ø¶ÙŠ', correct: 'Ù‚Ø¶Ù‰', wrong: 'Ù‚Ø¶Ø§', origin: 'ÙŠØ§Ø¡', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠÙ‚Ø¶ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      { type: 'choose', verb: 'Ø³Ø±Ù‰', present: 'ÙŠØ³Ø±ÙŠ', correct: 'Ø³Ø±Ù‰', wrong: 'Ø³Ø±Ø§', origin: 'ÙŠØ§Ø¡', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ³Ø±ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      { type: 'choose', verb: 'Ù‡ÙˆÙ‰', present: 'ÙŠÙ‡ÙˆÙŠ', correct: 'Ù‡ÙˆÙ‰', wrong: 'Ù‡ÙˆØ§', origin: 'ÙŠØ§Ø¡', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠÙ‡ÙˆÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      { type: 'choose', verb: 'Ø±Ù…Ù‰', present: 'ÙŠØ±Ù…ÙŠ', correct: 'Ø±Ù…Ù‰', wrong: 'Ø±Ù…Ø§', origin: 'ÙŠØ§Ø¡', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ±Ù…ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      { type: 'choose', verb: 'Ø¨Ù†Ù‰', present: 'ÙŠØ¨Ù†ÙŠ', correct: 'Ø¨Ù†Ù‰', wrong: 'Ø¨Ù†Ø§', origin: 'ÙŠØ§Ø¡', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¨Ù†ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      { type: 'choose', verb: 'Ø¬Ø±Ù‰', present: 'ÙŠØ¬Ø±ÙŠ', correct: 'Ø¬Ø±Ù‰', wrong: 'Ø¬Ø±Ø§', origin: 'ÙŠØ§Ø¡', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¬Ø±ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      { type: 'choose', verb: 'ØªÙ„Ø§', present: 'ÙŠØªÙ„Ùˆ', correct: 'ØªÙ„Ø§', wrong: 'ØªÙ„Ù‰', origin: 'ÙˆØ§Ùˆ', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØªÙ„Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©' },
      { type: 'choose', verb: 'Ø´ÙƒØ§', present: 'ÙŠØ´ÙƒÙˆ', correct: 'Ø´ÙƒØ§', wrong: 'Ø´ÙƒÙ‰', origin: 'ÙˆØ§Ùˆ', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ´ÙƒÙˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©' },
      { type: 'choose', verb: 'Ù…Ø´Ù‰', present: 'ÙŠÙ…Ø´ÙŠ', correct: 'Ù…Ø´Ù‰', wrong: 'Ù…Ø´Ø§', origin: 'ÙŠØ§Ø¡', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠÙ…Ø´ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      
      // Origin Detection Questions
      { type: 'origin', verb: 'Ø¯Ø¹Ø§', present: 'ÙŠØ¯Ø¹Ùˆ', correct: 'ÙˆØ§Ùˆ', explanation: 'Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¯Ø¹Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ ÙØ£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙˆØ§Ùˆ' },
      { type: 'origin', verb: 'Ø³Ø¹Ù‰', present: 'ÙŠØ³Ø¹Ù‰', correct: 'ÙŠØ§Ø¡', explanation: 'Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ³Ø¹Ù‰" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØ£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙŠØ§Ø¡' },
      { type: 'origin', verb: 'Ù†Ù…Ø§', present: 'ÙŠÙ†Ù…Ùˆ', correct: 'ÙˆØ§Ùˆ', explanation: 'Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠÙ†Ù…Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ ÙØ£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙˆØ§Ùˆ' },
      { type: 'origin', verb: 'Ù‡Ø¯Ù‰', present: 'ÙŠÙ‡Ø¯ÙŠ', correct: 'ÙŠØ§Ø¡', explanation: 'Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠÙ‡Ø¯ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØ£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙŠØ§Ø¡' },
      { type: 'origin', verb: 'Ø¹Ù„Ø§', present: 'ÙŠØ¹Ù„Ùˆ', correct: 'ÙˆØ§Ùˆ', explanation: 'Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¹Ù„Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ ÙØ£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙˆØ§Ùˆ' },
      
      // Fill in the Blank Questions
      { type: 'fill', sentence: 'Ø§Ù„Ø·Ø§Ø¦Ø± ___ ÙÙŠ Ø§Ù„Ø³Ù…Ø§Ø¡', verb: 'Ø³Ù…Ø§', present: 'ÙŠØ³Ù…Ùˆ', correct: 'Ø³Ù…Ø§', wrong: 'Ø³Ù…Ù‰', origin: 'ÙˆØ§Ùˆ', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ³Ù…Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ Ù†ÙƒØªØ¨ "Ø³Ù…Ø§" Ø¨Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©' },
      { type: 'fill', sentence: 'Ø§Ù„Ù…Ø§Ø¡ ___ ÙÙŠ Ø§Ù„Ù†Ù‡Ø±', verb: 'Ø¬Ø±Ù‰', present: 'ÙŠØ¬Ø±ÙŠ', correct: 'Ø¬Ø±Ù‰', wrong: 'Ø¬Ø±Ø§', origin: 'ÙŠØ§Ø¡', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¬Ø±ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ Ù†ÙƒØªØ¨ "Ø¬Ø±Ù‰" Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      { type: 'fill', sentence: 'Ø§Ù„ØµÙŠØ§Ø¯ ___ Ø§Ù„Ø±Ù…Ø­', verb: 'Ø±Ù…Ù‰', present: 'ÙŠØ±Ù…ÙŠ', correct: 'Ø±Ù…Ù‰', wrong: 'Ø±Ù…Ø§', origin: 'ÙŠØ§Ø¡', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ±Ù…ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ Ù†ÙƒØªØ¨ "Ø±Ù…Ù‰" Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      { type: 'fill', sentence: 'Ø§Ù„Ø¬Ù†Ø¯ÙŠ ___ Ø§Ù„ÙˆØ·Ù†', verb: 'Ø­Ù…Ù‰', present: 'ÙŠØ­Ù…ÙŠ', correct: 'Ø­Ù…Ù‰', wrong: 'Ø­Ù…Ø§', origin: 'ÙŠØ§Ø¡', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ­Ù…ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ Ù†ÙƒØªØ¨ "Ø­Ù…Ù‰" Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' },
      { type: 'fill', sentence: 'Ø§Ù„Ù…Ø¤Ù…Ù† ___ Ø¥Ù„Ù‰ Ø§Ù„Ù„Ù‡', verb: 'Ø¯Ø¹Ø§', present: 'ÙŠØ¯Ø¹Ùˆ', correct: 'Ø¯Ø¹Ø§', wrong: 'Ø¯Ø¹Ù‰', origin: 'ÙˆØ§Ùˆ', explanation: 'Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¯Ø¹Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§ÙˆØŒ Ù†ÙƒØªØ¨ "Ø¯Ø¹Ø§" Ø¨Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©' },
    ];
    
    // Theory Questions
    const theoryQuestions = [
      // True/False Questions
      { 
        type: 'truefalse', 
        question: 'Ø§Ù„Ø£Ù„Ù Ø§Ù„Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§) ØªÙÙƒØªØ¨ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹', 
        correct: true, 
        explanation: 'ØµØ­ÙŠØ­ âœ“ - Ù…Ø«Ø§Ù„: Ø¯Ù†Ø§ â† ÙŠØ¯Ù†Ùˆ (Ø§Ù„Ø£Ù„Ù Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ)' 
      },
      { 
        type: 'truefalse', 
        question: 'Ø§Ù„Ø£Ù„Ù Ø§Ù„Ù…Ù‚ØµÙˆØ±Ø© (Ù‰) ØªÙÙƒØªØ¨ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹', 
        correct: false, 
        explanation: 'Ø®Ø·Ø£ âœ— - Ø§Ù„Ø£Ù„Ù Ø§Ù„Ù…Ù‚ØµÙˆØ±Ø© ØªÙÙƒØªØ¨ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ ÙŠØ§Ø¡ØŒ Ù…Ø«Ù„: Ù‚Ø¶Ù‰ â† ÙŠÙ‚Ø¶ÙŠ' 
      },
      { 
        type: 'truefalse', 
        question: 'Ù„Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø£ØµÙ„ Ø§Ù„Ø£Ù„ÙØŒ Ù†Ø±Ø¬Ø¹ Ø¥Ù„Ù‰ Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹', 
        correct: true, 
        explanation: 'ØµØ­ÙŠØ­ âœ“ - Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ ÙŠÙØ¸Ù‡Ø± Ù„Ù†Ø§ Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù (ÙˆØ§Ùˆ Ø£Ùˆ ÙŠØ§Ø¡)' 
      },
      { 
        type: 'truefalse', 
        question: 'Ø§Ù„ÙØ¹Ù„ "Ø³Ù…Ø§" ÙŠÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© Ù„Ø£Ù† Ù…Ø¶Ø§Ø±Ø¹Ù‡ "ÙŠØ³Ù…ÙŠ"', 
        correct: false, 
        explanation: 'Ø®Ø·Ø£ âœ— - Ø§Ù„ÙØ¹Ù„ "Ø³Ù…Ø§" ÙŠÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© Ù„Ø£Ù† Ù…Ø¶Ø§Ø±Ø¹Ù‡ "ÙŠØ³Ù…Ùˆ" Ø¨ÙˆØ§Ùˆ' 
      },
      { 
        type: 'truefalse', 
        question: 'Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© (Ù‰)', 
        correct: true, 
        explanation: 'ØµØ­ÙŠØ­ âœ“ - Ù…Ø«Ù„: Ø±Ù…Ù‰ â† ÙŠØ±Ù…ÙŠ (Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡)' 
      },
      { 
        type: 'truefalse', 
        question: 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ù…Ø§Ø¶ÙŠØ© ØªÙ†ØªÙ‡ÙŠ Ø¨Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø©', 
        correct: false, 
        explanation: 'Ø®Ø·Ø£ âœ— - Ø¨Ø¹Ø¶Ù‡Ø§ ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© ÙˆØ§Ù„Ø¨Ø¹Ø¶ Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© Ø­Ø³Ø¨ Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù' 
      },
      { 
        type: 'truefalse', 
        question: 'Ø§Ù„ÙØ¹Ù„ "Ù‚Ø¶Ù‰" ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© Ù„Ø£Ù† Ù…Ø¶Ø§Ø±Ø¹Ù‡ "ÙŠÙ‚Ø¶ÙŠ"', 
        correct: true, 
        explanation: 'ØµØ­ÙŠØ­ âœ“ - Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠÙ‚Ø¶ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡ØŒ ÙØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' 
      },
      { 
        type: 'truefalse', 
        question: 'Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© ÙÙ‚Ø· ØªØ®Ø¶Ø¹ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©', 
        correct: false, 
        explanation: 'Ø®Ø·Ø£ âœ— - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªÙŠ ØªÙ†ØªÙ‡ÙŠ Ø¨Ø£Ù„Ù ØªØ®Ø¶Ø¹ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©' 
      },
      
      // Multiple Choice Theory Questions
      { 
        type: 'mcq', 
        question: 'Ù…ØªÙ‰ ØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø¢Ø®Ø± Ø§Ù„ÙØ¹Ù„ Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§)ØŸ', 
        options: ['Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ', 'Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ ÙŠØ§Ø¡', 'ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø­ÙˆØ§Ù„', 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ù…Ø­Ø¯Ø¯Ø©'],
        correct: 0,
        explanation: 'Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ ØªÙÙƒØªØ¨ Ù…Ù…Ø¯ÙˆØ¯Ø©' 
      },
      { 
        type: 'mcq', 
        question: 'ÙƒÙŠÙ Ù†ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ù…Ø§Ø¶ÙŠØŸ', 
        options: ['Ø¨Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ù…ØµØ¯Ø±', 'Ø¨Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹', 'Ø¨Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ ÙØ¹Ù„ Ø§Ù„Ø£Ù…Ø±', 'Ø¨Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙØ¹Ø§Ù„'],
        correct: 1,
        explanation: 'Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: Ù†Ø±Ø¬Ø¹ Ø¥Ù„Ù‰ Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ Ù„Ù…Ø¹Ø±ÙØ© Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù' 
      },
      { 
        type: 'mcq', 
        question: 'Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ø°ÙŠ Ù…Ø¶Ø§Ø±Ø¹Ù‡ "ÙŠØ¯Ù†Ùˆ" ÙŠÙÙƒØªØ¨ ÙÙŠ Ø§Ù„Ù…Ø§Ø¶ÙŠ:', 
        options: ['Ø¯Ù†Ù‰', 'Ø¯Ù†Ø§', 'Ø¯Ù†Ùˆ', 'Ø¯Ù†ÙŠ'],
        correct: 1,
        explanation: 'Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: "Ø¯Ù†Ø§" Ø¨Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¯Ù†Ùˆ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§Ùˆ' 
      },
      { 
        type: 'mcq', 
        question: 'Ø£ÙŠ Ù…Ù† Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠØ© ÙŠÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©ØŸ', 
        options: ['Ø¹ÙØ§', 'Ø³Ù…Ø§', 'Ù‚Ø¶Ù‰', 'Ø¯Ø¹Ø§'],
        correct: 2,
        explanation: 'Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: "Ù‚Ø¶Ù‰" ÙŠÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© Ù„Ø£Ù† Ù…Ø¶Ø§Ø±Ø¹Ù‡ "ÙŠÙ‚Ø¶ÙŠ" ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡' 
      },
      { 
        type: 'mcq', 
        question: 'Ù…Ø§ Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ø¨ÙŠÙ† Ø§Ù„Ø£Ù„Ù Ø§Ù„Ù…Ù…Ø¯ÙˆØ¯Ø© ÙˆØ§Ù„Ù…Ù‚ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ØŸ', 
        options: ['Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙŠ Ø§Ù„Ø¬Ù…Ù„Ø©', 'Ø·ÙˆÙ„ Ø§Ù„ØµÙˆØª', 'Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹', 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙØ±Ù‚'],
        correct: 2,
        explanation: 'Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: Ø§Ù„ÙØ±Ù‚ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ (ÙˆØ§Ùˆ Ø£Ùˆ ÙŠØ§Ø¡)' 
      },
      { 
        type: 'mcq', 
        question: 'Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ Ø¨ÙŠØ§Ø¡ØŒ ÙØ¥Ù† Ø§Ù„Ù…Ø§Ø¶ÙŠ ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ù€:', 
        options: ['Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§)', 'Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© (Ù‰)', 'ÙˆØ§Ùˆ', 'ÙŠØ§Ø¡'],
        correct: 1,
        explanation: 'Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ Ø¨ÙŠØ§Ø¡ØŒ ÙŠÙÙƒØªØ¨ Ø§Ù„Ù…Ø§Ø¶ÙŠ Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© (Ù‰)' 
      },
      { 
        type: 'mcq', 
        question: 'Ù„Ù…Ø§Ø°Ø§ Ù†Ù‡ØªÙ… Ø¨Ù…Ø¹Ø±ÙØ© Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ØŸ', 
        options: ['Ù„Ù„Ù†Ø·Ù‚ Ø§Ù„ØµØ­ÙŠØ­', 'Ù„Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©', 'Ù„Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„Ø£Ø¯Ø¨ÙŠ', 'Ù„Ø¬Ù…Ø§Ù„ Ø§Ù„Ø®Ø·'],
        correct: 1,
        explanation: 'Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: Ù…Ø¹Ø±ÙØ© Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù Ø¶Ø±ÙˆØ±ÙŠØ© Ù„Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„Ù„Ø£ÙØ¹Ø§Ù„' 
      },
      { 
        type: 'mcq', 
        question: 'Ø£ÙŠ Ù…Ù† Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØªØ§Ù„ÙŠØ© ØµØ­ÙŠØ­Ø©ØŸ', 
        options: ['ÙƒÙ„ ÙØ¹Ù„ ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ø£Ù„Ù ÙˆØ§Ø­Ø¯Ø©', 'Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù…Ù…Ø¯ÙˆØ¯Ø©', 'Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ ÙŠÙØ¸Ù‡Ø± Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù', 'Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© Ù„Ø§ ØªÙ†ØªÙ‡ÙŠ Ø¨Ø£Ù„Ù'],
        correct: 2,
        explanation: 'Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ Ù‡Ùˆ Ø§Ù„Ù…ÙØªØ§Ø­ Ù„Ù…Ø¹Ø±ÙØ© Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙˆØ·Ø±ÙŠÙ‚Ø© ÙƒØªØ§Ø¨ØªÙ‡Ø§' 
      },
      { 
        type: 'mcq', 
        question: 'Ø§Ù„ÙØ¹Ù„ "Ø¬Ø±Ù‰" ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ ÙŠØµØ¨Ø­:', 
        options: ['ÙŠØ¬Ø±Ùˆ', 'ÙŠØ¬Ø±ÙŠ', 'ÙŠØ¬Ø±Ø§', 'ÙŠØ¬Ø±Ù‰'],
        correct: 1,
        explanation: 'Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ Ù‡Ùˆ "ÙŠØ¬Ø±ÙŠ" Ø¨ÙŠØ§Ø¡ØŒ Ù„Ø°Ù„Ùƒ Ø§Ù„Ù…Ø§Ø¶ÙŠ "Ø¬Ø±Ù‰" Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø©' 
      },
      { 
        type: 'mcq', 
        question: 'Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ­Ø¯Ø¯ Ù†ÙˆØ¹ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø¢Ø®Ø± Ø§Ù„ÙØ¹Ù„ØŸ', 
        options: ['Ø¹Ø¯Ø¯ Ø£Ø­Ø±Ù Ø§Ù„ÙØ¹Ù„', 'Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹', 'Ù…Ø¹Ù†Ù‰ Ø§Ù„ÙØ¹Ù„', 'ÙˆØ²Ù† Ø§Ù„ÙØ¹Ù„'],
        correct: 1,
        explanation: 'Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ (ÙˆØ§Ùˆ Ø£Ùˆ ÙŠØ§Ø¡) ÙŠØ­Ø¯Ø¯ Ù†ÙˆØ¹ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ù…Ø§Ø¶ÙŠ' 
      },
    ];
    
    // Game State
    let questions = [];
    let currentQuestion = 0;
    let score = 0;
    let streak = 0;
    let maxStreak = 0;
    let mistakes = [];
    let answered = false;
    let gameMode = 'practice';
    
    // Utility Functions
    function shuffleArray(array) {
      const shuffled = [...array];
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      return shuffled;
    }
    
    function createConfetti() {
      const colors = ['#fbbf24', '#f59e0b', '#10b981', '#06b6d4', '#8b5cf6', '#ec4899'];
      for (let i = 0; i < 50; i++) {
        setTimeout(() => {
          const confetti = document.createElement('div');
          confetti.className = 'confetti';
          confetti.style.left = Math.random() * 100 + '%';
          confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
          confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
          confetti.style.animationDelay = Math.random() * 0.5 + 's';
          document.body.appendChild(confetti);
          setTimeout(() => confetti.remove(), 4000);
        }, i * 30);
      }
    }
    
    // Game Functions
    function startGame(mode = 'practice') {
      gameMode = mode;
      
      if (mode === 'theory') {
        questions = shuffleArray(theoryQuestions).slice(0, 10);
      } else {
        questions = shuffleArray(allQuestions).slice(0, 10);
      }
      
      currentQuestion = 0;
      score = 0;
      streak = 0;
      maxStreak = 0;
      mistakes = [];
      
      document.getElementById('startScreen').classList.add('hidden');
      document.getElementById('resultScreen').classList.add('hidden');
      document.getElementById('gameScreen').classList.remove('hidden');
      
      showQuestion();
    }
    
    function showQuestion() {
      answered = false;
      const q = questions[currentQuestion];
      const questionCard = document.getElementById('questionCard');
      
      // Re-trigger animation
      questionCard.classList.remove('animate-scale-in');
      void questionCard.offsetWidth;
      questionCard.classList.add('animate-scale-in');
      
      // Update progress
      const progress = ((currentQuestion + 1) / 10) * 100;
      document.getElementById('questionNum').textContent = `${currentQuestion + 1}/10`;
      document.getElementById('questionNumMobile').textContent = `${currentQuestion + 1}/10`;
      document.getElementById('progressBar').style.width = `${progress}%`;
      document.getElementById('score').textContent = score;
      document.getElementById('streakCount').textContent = streak;
      
      // Reset UI
      document.getElementById('feedbackBox').classList.add('hidden');
      document.getElementById('nextBtn').classList.add('hidden');
      document.getElementById('hintBox').classList.add('hidden');
      
      const optionsContainer = document.getElementById('optionsContainer');
      optionsContainer.innerHTML = '';
      
      // Display question based on type
      if (q.type === 'truefalse') {
        document.getElementById('questionType').innerHTML = '<span class="inline-block bg-emerald-100 text-emerald-800 px-6 py-3 rounded-full text-base font-black border-2 border-emerald-200">âœ“ ØµØ­ Ø£Ùˆ Ø®Ø·Ø£</span>';
        document.getElementById('questionText').textContent = q.question;
        
        ['âœ“ ØµØ­', 'âœ— Ø®Ø·Ø£'].forEach((opt, index) => {
          const isTrue = index === 0;
          const btn = createOptionButton(opt, () => checkAnswer(isTrue, q.correct, q), isTrue ? 'emerald' : 'red');
          optionsContainer.appendChild(btn);
        });
        
      } else if (q.type === 'mcq') {
        document.getElementById('questionType').innerHTML = '<span class="inline-block bg-teal-100 text-teal-800 px-6 py-3 rounded-full text-base font-black border-2 border-teal-200">ğŸ“ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯</span>';
        document.getElementById('questionText').textContent = q.question;
        
        q.options.forEach((opt, index) => {
          const btn = createOptionButton(opt, () => checkAnswer(index, q.correct, q));
          optionsContainer.appendChild(btn);
        });
        
      } else if (q.type === 'choose') {
        document.getElementById('questionType').innerHTML = '<span class="inline-block bg-indigo-100 text-indigo-800 px-6 py-3 rounded-full text-base font-black border-2 border-indigo-200">âœï¸ Ø§Ø®ØªØ± Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©</span>';
        document.getElementById('questionText').textContent = `Ù…Ø§ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„Ù„ÙØ¹Ù„ Ø§Ù„Ù…Ø§Ø¶ÙŠ Ù…Ù† "${q.present}"ØŸ`;
        
        const options = shuffleArray([q.correct, q.wrong]);
        options.forEach(opt => {
          const btn = createOptionButton(opt, () => checkAnswer(opt, q.correct, q));
          optionsContainer.appendChild(btn);
        });
        
      } else if (q.type === 'origin') {
        document.getElementById('questionType').innerHTML = '<span class="inline-block bg-purple-100 text-purple-800 px-6 py-3 rounded-full text-base font-black border-2 border-purple-200">ğŸ” Ø­Ø¯Ø¯ Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù</span>';
        document.getElementById('questionText').textContent = `Ù…Ø§ Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„ÙØ¹Ù„ "${q.verb}"ØŸ`;
        
        document.getElementById('hintBox').classList.remove('hidden');
        document.getElementById('hintVerb').textContent = q.present;
        
        ['ÙˆØ§Ùˆ', 'ÙŠØ§Ø¡'].forEach((opt, index) => {
          const icon = opt === 'ÙˆØ§Ùˆ' ? 'ğŸ”µ' : 'ğŸŸ£';
          const suffix = opt === 'ÙˆØ§Ùˆ' ? '(Ø§)' : '(Ù‰)';
          const btn = createOptionButton(`${icon} ${opt} ${suffix}`, () => checkAnswer(opt, q.correct, q), opt === 'ÙˆØ§Ùˆ' ? 'blue' : 'purple');
          optionsContainer.appendChild(btn);
        });
        
      } else if (q.type === 'fill') {
        document.getElementById('questionType').innerHTML = '<span class="inline-block bg-amber-100 text-amber-800 px-6 py-3 rounded-full text-base font-black border-2 border-amber-200">ğŸ“ Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¬Ù…Ù„Ø©</span>';
        document.getElementById('questionText').innerHTML = `Ø£ÙƒÙ…Ù„: <span class="text-indigo-600">"${q.sentence}"</span>`;
        
        const options = shuffleArray([q.correct, q.wrong]);
        options.forEach(opt => {
          const btn = createOptionButton(opt, () => checkAnswer(opt, q.correct, q));
          optionsContainer.appendChild(btn);
        });
      }
    }
    
    function createOptionButton(text, onClick, colorClass = 'indigo') {
      const btn = document.createElement('button');
      btn.className = `w-full bg-white border-3 border-gray-200 text-gray-900 text-xl md:text-2xl font-black py-5 px-6 rounded-2xl btn-hover card-shadow hover:border-${colorClass}-400 hover:bg-${colorClass}-50 transition-all duration-300`;
      btn.textContent = text;
      btn.onclick = onClick;
      return btn;
    }
    
    function checkAnswer(selected, correct, q) {
      if (answered) return;
      answered = true;
      
      const buttons = document.querySelectorAll('#optionsContainer button');
      let isCorrect = false;
      
      // Determine if answer is correct
      if (q.type === 'truefalse') {
        isCorrect = selected === correct;
      } else if (q.type === 'mcq') {
        isCorrect = selected === correct;
      } else {
        isCorrect = selected === correct || 
                    (q.type === 'origin' && selected === correct);
      }
      
      // Update button states
      buttons.forEach((btn, index) => {
        btn.disabled = true;
        const btnText = btn.textContent;
        let isThisCorrect = false;
        
        if (q.type === 'truefalse') {
          isThisCorrect = (btnText.includes('ØµØ­') && correct === true) || (btnText.includes('Ø®Ø·Ø£') && correct === false);
        } else if (q.type === 'mcq') {
          isThisCorrect = index === correct;
        } else {
          isThisCorrect = btnText === correct || 
                          btnText.includes(correct) ||
                          (q.type === 'choose' && btnText === q.correct) ||
                          (q.type === 'fill' && btnText === q.correct);
        }
        
        if (isThisCorrect) {
          btn.className = 'w-full gradient-green text-white text-xl md:text-2xl font-black py-5 px-6 rounded-2xl card-shadow border-4 border-emerald-400';
          btn.style.animation = 'pulse 0.5s ease-out';
        } else if ((q.type === 'truefalse' && ((btnText.includes('ØµØ­') && selected === true) || (btnText.includes('Ø®Ø·Ø£') && selected === false))) ||
                   (q.type === 'mcq' && index === selected) ||
                   (btnText === selected || btnText.includes(selected))) {
          if (!isCorrect) {
            btn.className = 'w-full gradient-red text-white text-xl md:text-2xl font-black py-5 px-6 rounded-2xl card-shadow animate-shake border-4 border-red-400';
          }
        }
      });
      
      // Show feedback
      const feedbackBox = document.getElementById('feedbackBox');
      const feedbackText = document.getElementById('feedbackText');
      const feedbackExplanation = document.getElementById('feedbackExplanation');
      
      if (isCorrect) {
        score++;
        streak++;
        if (streak > maxStreak) maxStreak = streak;
        
        feedbackBox.className = 'mt-8 p-6 rounded-2xl text-center bg-gradient-to-br from-emerald-50 to-teal-50 border-3 border-emerald-300 card-shadow';
        feedbackText.className = 'text-2xl font-black mb-3 text-emerald-800';
        
        if (streak >= 5) {
          feedbackText.innerHTML = `ğŸ”¥ğŸ”¥ğŸ”¥ Ø±Ø§Ø¦Ø¹ Ø¬Ø¯Ø§Ù‹! Ø³Ù„Ø³Ù„Ø© ${streak} Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø©!`;
          createConfetti();
        } else if (streak >= 3) {
          feedbackText.innerHTML = `ğŸ”¥ Ù…Ù…ØªØ§Ø²! Ø³Ù„Ø³Ù„Ø© ${streak} Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø©!`;
        } else {
          feedbackText.textContent = 'âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!';
        }
        
        feedbackExplanation.className = 'text-base font-medium text-emerald-700';
        
        document.getElementById('score').classList.add('animate-pulse-custom');
        setTimeout(() => document.getElementById('score').classList.remove('animate-pulse-custom'), 400);
      } else {
        streak = 0;
        if (q.verb) {
          mistakes.push({ verb: q.verb, correct: q.correct, present: q.present });
        } else {
          mistakes.push({ verb: q.question, correct: 'Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø´Ø±Ø­', present: '' });
        }
        
        feedbackBox.className = 'mt-8 p-6 rounded-2xl text-center bg-gradient-to-br from-red-50 to-pink-50 border-3 border-red-300 card-shadow';
        feedbackText.className = 'text-2xl font-black mb-3 text-red-800';
        feedbackText.textContent = 'âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©';
        feedbackExplanation.className = 'text-base font-medium text-red-700';
      }
      
      feedbackExplanation.textContent = q.explanation;
      feedbackBox.classList.remove('hidden');
      feedbackBox.classList.add('animate-scale-in');
      
      document.getElementById('score').textContent = score;
      document.getElementById('streakCount').textContent = streak;
      
      // Show next button
      const nextBtn = document.getElementById('nextBtn');
      nextBtn.textContent = currentQuestion < 9 ? 'Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†' : 'Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ğŸ†';
      nextBtn.classList.remove('hidden');
      nextBtn.classList.add('animate-slide-up');
    }
    
    function nextQuestion() {
      currentQuestion++;
      if (currentQuestion < 10) {
        showQuestion();
      } else {
        showResults();
      }
    }
    
    function showResults() {
      document.getElementById('gameScreen').classList.add('hidden');
      document.getElementById('resultScreen').classList.remove('hidden');
      
      const percentage = (score / 10) * 100;
      document.getElementById('finalScore').textContent = score;
      document.getElementById('totalQuestions').textContent = 10;
      document.getElementById('accuracy').textContent = `${percentage}%`;
      document.getElementById('maxStreak').textContent = maxStreak;
      
      const resultEmoji = document.getElementById('resultEmoji');
      const resultTitle = document.getElementById('resultTitle');
      const resultMessage = document.getElementById('resultMessage');
      
      if (percentage === 100) {
        resultEmoji.textContent = 'ğŸ†';
        resultTitle.textContent = 'Ù…Ù…ØªØ§Ø²!';
        resultMessage.textContent = 'Ø£Ù†Øª Ù…ØªÙ‚Ù† Ù„Ù‚ÙˆØ§Ø¹Ø¯ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„! ğŸŒŸ';
        createConfetti();
      } else if (percentage >= 80) {
        resultEmoji.textContent = 'ğŸŒŸ';
        resultTitle.textContent = 'Ø£Ø­Ø³Ù†Øª!';
        resultMessage.textContent = 'Ø£Ø¯Ø§Ø¡ Ø±Ø§Ø¦Ø¹ØŒ ÙˆØ§ØµÙ„ Ø§Ù„ØªÙ…ÙŠØ²! ğŸ‘';
      } else if (percentage >= 60) {
        resultEmoji.textContent = 'ğŸ‘';
        resultTitle.textContent = 'Ø¬ÙŠØ¯!';
        resultMessage.textContent = 'ØªØ­ØªØ§Ø¬ Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¨Ø¹Ø¶ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯. Ø§Ø³ØªÙ…Ø±! ğŸ’ª';
      } else if (percentage >= 40) {
        resultEmoji.textContent = 'ğŸ“š';
        resultTitle.textContent = 'Ù„Ø§ Ø¨Ø£Ø³!';
        resultMessage.textContent = 'Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ ÙˆØ­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰! ğŸ“–';
      } else {
        resultEmoji.textContent = 'ğŸ’ª';
        resultTitle.textContent = 'Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹!';
        resultMessage.textContent = 'ØªØ­ØªØ§Ø¬ Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ¯Ø±ÙŠØ¨ØŒ Ù„Ø§ ØªØ³ØªØ³Ù„Ù…! ğŸ¯';
      }
      
      // Show mistakes
      const mistakesSummary = document.getElementById('mistakesSummary');
      const mistakesList = document.getElementById('mistakesList');
      
      if (mistakes.length > 0) {
        mistakesSummary.classList.remove('hidden');
        if (gameMode === 'theory') {
          mistakesList.innerHTML = mistakes.map(m => 
            `<li class="mb-3 pb-3 border-b border-red-200 last:border-0">â€¢ ${m.verb.substring(0, 80)}${m.verb.length > 80 ? '...' : ''}</li>`
          ).join('');
        } else {
          mistakesList.innerHTML = mistakes.map(m => 
            `<li class="mb-3 pb-3 border-b border-red-200 last:border-0 arabic-text"><strong>${m.verb}</strong> â† ${m.present} <br><span class="text-sm">(Ø§Ù„ØµØ­ÙŠØ­: <strong class="text-red-900">${m.correct}</strong>)</span></li>`
          ).join('');
        }
      } else {
        mistakesSummary.classList.add('hidden');
      }
    }
    
    function restartGame() {
      startGame(gameMode);
    }
    
    function backToMenu() {
      document.getElementById('gameScreen').classList.add('hidden');
      document.getElementById('resultScreen').classList.add('hidden');
      document.getElementById('startScreen').classList.remove('hidden');
    }
  </script>
</body>
</html>
